{"pl.edu.wat.wcy.pz.restaurantServer.security.WebSecurityConfiguration":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.security.WebSecurityConfiguration","begin":1,"end":70,"isInterface":false,"annotations":["@Configuration","@EnableWebSecurity","@AllArgsConstructor","@EnableGlobalMethodSecurity(prePostEnabled \u003d true)"],"variables":["UserDetailsServiceImpl userDetailsService","JwtAuthEntryPoint unauthorizedHandler"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"UserDetailsServiceImpl","variable":"userDetailsService","lineBegin":29,"lineEnd":29},{"annotations":[],"modifier":"private ","identifier":[],"type":"JwtAuthEntryPoint","variable":"unauthorizedHandler","lineBegin":31,"lineEnd":31}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl","pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtAuthEntryPoint","pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtAuthTokenFilter"],"methods":{"passwordEncoder":{"name":"passwordEncoder","parametersDataType":[],"returnDataType":["PasswordEncoder"]},"authenticationManagerBean":{"name":"authenticationManagerBean","parametersDataType":[],"returnDataType":["AuthenticationManager"]},"authenticationJwtTokenFilter":{"name":"authenticationJwtTokenFilter","parametersDataType":[],"returnDataType":["JwtAuthTokenFilter"]},"configure":{"name":"configure","parametersDataType":["HttpSecurity"],"returnDataType":["void"]}},"myMethods":{"passwordEncoder":{"name":"passwordEncoder","lineBegin":34,"lineEnd":37,"annotations":["@Bean"],"returnDataType":["PasswordEncoder"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return new BCryptPasswordEncoder();\n}","methodInvocations":[]},"authenticationManagerBean":{"name":"authenticationManagerBean","lineBegin":44,"lineEnd":48,"annotations":["@Bean","@Override"],"returnDataType":["AuthenticationManager"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return super.authenticationManagerBean();\n}","methodInvocations":[]},"authenticationJwtTokenFilter":{"name":"authenticationJwtTokenFilter","lineBegin":39,"lineEnd":42,"annotations":["@Bean"],"returnDataType":["JwtAuthTokenFilter"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return new JwtAuthTokenFilter();\n}","methodInvocations":[]},"configure":{"name":"configure","lineBegin":56,"lineEnd":69,"annotations":["@Override"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"HttpSecurity","variable":"http","qualifedType":""}],"variables":[],"body":"{\n    http.cors().and().csrf().disable().authorizeRequests().antMatchers(\"/auth/**\").permitAll().antMatchers(\"/dishes/**\").permitAll().anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    http.headers().frameOptions().disable();\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":["WebSecurityConfigurerAdapter"],"imports":["lombok.AllArgsConstructor","org.springframework.context.annotation.Bean","org.springframework.context.annotation.Configuration","org.springframework.security.authentication.AuthenticationManager","org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder","org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity","org.springframework.security.config.annotation.web.builders.HttpSecurity","org.springframework.security.config.annotation.web.configuration.EnableWebSecurity","org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter","org.springframework.security.config.http.SessionCreationPolicy","org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder","org.springframework.security.crypto.password.PasswordEncoder","org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter","pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtAuthEntryPoint","pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtAuthTokenFilter","pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl"]},"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","begin":1,"end":84,"isInterface":false,"annotations":["@AllArgsConstructor","@NoArgsConstructor","@Entity","@Builder"],"variables":["Long billId","String status","Date creationDate","Long rTableId","double value","List\u003cBillPosition\u003e billPositions"],"instance_variables":[{"annotations":["@Id","@GeneratedValue(strategy \u003d GenerationType.IDENTITY)","@Column(name \u003d \"BILL_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"billId","lineBegin":17,"lineEnd":20},{"annotations":["@Column(name \u003d \"STATUS\")"],"modifier":"private ","identifier":[],"type":"String","variable":"status","lineBegin":21,"lineEnd":22},{"annotations":["@Column(name \u003d \"CREATION_DATE\")"],"modifier":"private ","identifier":[],"type":"Date","variable":"creationDate","lineBegin":23,"lineEnd":24},{"annotations":["@Column(name \u003d \"RTABLE_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"rTableId","lineBegin":25,"lineEnd":26},{"annotations":["@Column(name \u003d \"VALUE\")"],"modifier":"private ","identifier":[],"type":"double","variable":"value","lineBegin":27,"lineEnd":28},{"annotations":["@OneToMany(orphanRemoval \u003d true, cascade \u003d CascadeType.ALL, fetch \u003d FetchType.LAZY, mappedBy \u003d \"billId\")"],"modifier":"private ","identifier":["List","BillPosition"],"type":"List\u003cBillPosition\u003e","variable":"billPositions","lineBegin":30,"lineEnd":31}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"],"methods":{"getBillPositions":{"name":"getBillPositions","parametersDataType":[],"returnDataType":["BillPosition"]},"getRTableId":{"name":"getRTableId","parametersDataType":[],"returnDataType":["Long"]},"setBillPositions":{"name":"setBillPositions","parametersDataType":["BillPosition"],"returnDataType":["void"]},"setBillId":{"name":"setBillId","parametersDataType":["Long"],"returnDataType":["void"]},"getStatus":{"name":"getStatus","parametersDataType":[],"returnDataType":["String"]},"setStatus":{"name":"setStatus","parametersDataType":["String"],"returnDataType":["void"]},"getCreationDate":{"name":"getCreationDate","parametersDataType":[],"returnDataType":["Date"]},"getValue":{"name":"getValue","parametersDataType":[],"returnDataType":["double"]},"setCreationDate":{"name":"setCreationDate","parametersDataType":["Date"],"returnDataType":["void"]},"getBillId":{"name":"getBillId","parametersDataType":[],"returnDataType":["Long"]},"setValue":{"name":"setValue","parametersDataType":["double"],"returnDataType":["void"]},"setRTableId":{"name":"setRTableId","parametersDataType":["Long"],"returnDataType":["void"]},"changeValue":{"name":"changeValue","parametersDataType":["double"],"returnDataType":["void"]}},"myMethods":{"getBillPositions":{"name":"getBillPositions","lineBegin":77,"lineEnd":79,"annotations":[],"returnDataType":["List\u003cBillPosition\u003e"],"identifier":["List","BillPosition"],"parametersDataType":[],"variables":[],"body":"{\n    return billPositions;\n}","methodInvocations":[]},"getRTableId":{"name":"getRTableId","lineBegin":57,"lineEnd":59,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return rTableId;\n}","methodInvocations":[]},"setBillPositions":{"name":"setBillPositions","lineBegin":81,"lineEnd":83,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"List\u003cBillPosition\u003e","variable":"billPositions","qualifedType":""}],"variables":[],"body":"{\n    this.billPositions \u003d billPositions;\n}","methodInvocations":[]},"setBillId":{"name":"setBillId","lineBegin":37,"lineEnd":39,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"billId","qualifedType":""}],"variables":[],"body":"{\n    this.billId \u003d billId;\n}","methodInvocations":[]},"getStatus":{"name":"getStatus","lineBegin":41,"lineEnd":43,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return status;\n}","methodInvocations":[]},"setStatus":{"name":"setStatus","lineBegin":45,"lineEnd":47,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"status","qualifedType":""}],"variables":[],"body":"{\n    this.status \u003d status;\n}","methodInvocations":[]},"getCreationDate":{"name":"getCreationDate","lineBegin":49,"lineEnd":51,"annotations":[],"returnDataType":["Date"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return creationDate;\n}","methodInvocations":[]},"getValue":{"name":"getValue","lineBegin":65,"lineEnd":67,"annotations":[],"returnDataType":["double"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return value;\n}","methodInvocations":[]},"setCreationDate":{"name":"setCreationDate","lineBegin":53,"lineEnd":55,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Date","variable":"creationDate","qualifedType":""}],"variables":[],"body":"{\n    this.creationDate \u003d creationDate;\n}","methodInvocations":[]},"getBillId":{"name":"getBillId","lineBegin":33,"lineEnd":35,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return billId;\n}","methodInvocations":[]},"setValue":{"name":"setValue","lineBegin":69,"lineEnd":71,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"double","variable":"value","qualifedType":""}],"variables":[],"body":"{\n    this.value \u003d value;\n}","methodInvocations":[]},"setRTableId":{"name":"setRTableId","lineBegin":61,"lineEnd":63,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"rTableId","qualifedType":""}],"variables":[],"body":"{\n    this.rTableId \u003d rTableId;\n}","methodInvocations":[]},"changeValue":{"name":"changeValue","lineBegin":73,"lineEnd":75,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"double","variable":"value","qualifedType":""}],"variables":[],"body":"{\n    this.value +\u003d value;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","lombok.Builder","lombok.NoArgsConstructor","javax.persistence","java.util.Date","java.util.List"]},"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository","begin":1,"end":14,"isInterface":true,"annotations":["@Transactional","@Repository"],"variables":[],"instance_variables":[],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"],"methods":{"findByDateDays":{"name":"findByDateDays","parametersDataType":["String"],"returnDataType":["Reservation"]}},"myMethods":{"findByDateDays":{"name":"findByDateDays","lineBegin":13,"lineEnd":13,"annotations":[],"returnDataType":["List\u003cReservation\u003e"],"identifier":["List","Reservation"],"parametersDataType":[{"type":"String","variable":"dateDays","qualifedType":""}],"variables":[],"body":"","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":["JpaRepository\u003cReservation, Long\u003e"],"imports":["org.springframework.data.jpa.repository.JpaRepository","org.springframework.stereotype.Repository","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","javax.transaction.Transactional","java.util.List"]},"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService","begin":1,"end":145,"isInterface":false,"annotations":["@AllArgsConstructor","@Service"],"variables":["ReservationRepository reservationRepository","UserService userService","MailService mailService","RTableService rTableService","SimpleDateFormat dateFormatter","Date date","String dateDays","List\u003cReservation\u003e reservationList","List\u003cReservation\u003e returnList","Reservation temp","Reservation aReservationList","Optional\u003cReservation\u003e reservation","Long tabId","List\u003cReservation\u003e reservationList","User user","String mail","String sb","List\u003cRTable\u003e tableList","List\u003cRTable\u003e reservable","String dateDays","String dateTime","RTable tempTable","Reservation tempReservation","boolean free","List\u003cReservation\u003e tempReservations","int j","int i","Optional\u003cReservation\u003e oldReservation","Optional\u003cReservation\u003e res","Reservation reservation","User user","String mail","String sb"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"ReservationRepository","variable":"reservationRepository","lineBegin":23,"lineEnd":23},{"annotations":[],"modifier":"private ","identifier":[],"type":"UserService","variable":"userService","lineBegin":24,"lineEnd":24},{"annotations":[],"modifier":"private ","identifier":[],"type":"MailService","variable":"mailService","lineBegin":25,"lineEnd":25},{"annotations":[],"modifier":"private ","identifier":[],"type":"RTableService","variable":"rTableService","lineBegin":26,"lineEnd":26}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository","pl.edu.wat.wcy.pz.restaurantServer.service.UserService","pl.edu.wat.wcy.pz.restaurantServer.email.MailService","pl.edu.wat.wcy.pz.restaurantServer.service.RTableService","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"],"methods":{"getReservationById":{"name":"getReservationById","parametersDataType":["Long"],"returnDataType":["Reservation"]},"addReservation":{"name":"addReservation","parametersDataType":["Reservation"],"returnDataType":["void"]},"deleteReservationById":{"name":"deleteReservationById","parametersDataType":["Long"],"returnDataType":["void"]},"updateReservation":{"name":"updateReservation","parametersDataType":["Long","Reservation"],"returnDataType":["void"]},"getReservations":{"name":"getReservations","parametersDataType":[],"returnDataType":["Reservation"]},"getCurrentReservations":{"name":"getCurrentReservations","parametersDataType":[],"returnDataType":["Reservation"]},"getTableId":{"name":"getTableId","parametersDataType":["Reservation"],"returnDataType":["Long"]}},"myMethods":{"getReservationById":{"name":"getReservationById","lineBegin":48,"lineEnd":56,"annotations":[],"returnDataType":["Optional\u003cReservation\u003e"],"identifier":["Optional","Reservation"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cReservation\u003e","variable":"reservation","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"}],"body":"{\n    Optional\u003cReservation\u003e reservation \u003d reservationRepository.findById(id);\n    if (reservation.isPresent()) {\n        return reservation;\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Reservation not found.\");\n    }\n}","methodInvocations":[{"scopeName":"reservationRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservation","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"}]},"addReservation":{"name":"addReservation","lineBegin":58,"lineEnd":82,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Reservation","variable":"reservation","qualifedType":""}],"variables":[{"type":"Long","variable":"tabId","qualifedType":""},{"type":"List\u003cReservation\u003e","variable":"reservationList","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"type":"User","variable":"user","qualifedType":""},{"type":"String","variable":"mail","qualifedType":""},{"type":"String","variable":"sb","qualifedType":""}],"body":"{\n    Long tabId \u003d getTableId(reservation);\n    if (tabId.equals(Long.valueOf(-1))) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"Couldn\u0027t find suitable table for this date.\");\n    }\n    reservation.setRTableId(tabId);\n    List\u003cReservation\u003e reservationList \u003d reservationRepository.findAll();\n    if (reservationList.stream().map(Reservation::getRTableId).anyMatch(reservation.getRTableId()::equals) \u0026\u0026 reservationList.stream().map(Reservation::getDateTime).anyMatch(reservation.getDateTime()::equals) \u0026\u0026 reservationList.stream().map(Reservation::getDateDays).anyMatch(reservation.getDateDays()::equals)) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"Reservation for this table and date already exists.\");\n    } else {\n        if (reservation.getUserId() !\u003d null) {\n            User user \u003d userService.getUserById(reservation.getUserId()).get();\n            String mail \u003d user.getMail();\n            String sb \u003d \"Hello \" + user.getFirstName() + \" you\u0027ve made reservation for \" + reservation.getAttendees() + \" people on \" + reservation.getDateDays() + \" \" + reservation.getDateTime() + \". Table \" + reservation.getRTableId() + \" is waiting for you\";\n            mailService.sendEmail(mail, \"Reservation has been made.\", sb);\n        }\n        reservation.setrTableNumber(rTableService.getRTableById(tabId).get().getNumber());\n        reservation.setStatus(\"PENDING\");\n        reservationRepository.save(reservation);\n    }\n}","methodInvocations":[{"scopeName":"tabId","methodName":"equals","targetClassName":""},{"scopeName":"reservation","methodName":"setRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservation","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationList","methodName":"stream","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationList.stream()","methodName":"map","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationList","methodName":"stream","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationList.stream()","methodName":"map","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationList","methodName":"stream","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationList.stream()","methodName":"map","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"userService","methodName":"getUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"reservation","methodName":"getAttendees","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"mailService","methodName":"sendEmail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService"},{"scopeName":"rTableService","methodName":"getRTableById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"reservation","methodName":"setrTableNumber","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"setStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"}]},"deleteReservationById":{"name":"deleteReservationById","lineBegin":126,"lineEnd":142,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cReservation\u003e","variable":"res","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"type":"Reservation","variable":"reservation","qualifedType":""},{"type":"User","variable":"user","qualifedType":""},{"type":"String","variable":"mail","qualifedType":""},{"type":"String","variable":"sb","qualifedType":""}],"body":"{\n    Optional\u003cReservation\u003e res \u003d reservationRepository.findById(id);\n    if (res.isPresent()) {\n        Reservation reservation \u003d res.get();\n        if (reservation.getUserId() !\u003d null) {\n            User user \u003d userService.getUserById(reservation.getUserId()).get();\n            String mail \u003d user.getMail();\n            String sb \u003d \"Hello \" + user.getFirstName() + \" your reservation \" + \" on \" + reservation.getDateDays() + \" \" + reservation.getDateTime() + \" has been cancelled.\" + \" You\u0027re welcome another time\";\n            mailService.sendEmail(mail, \"Reservation has been cancelled.\", sb);\n        }\n        reservationRepository.deleteById(id);\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Reservation not found.\");\n    }\n}","methodInvocations":[{"scopeName":"reservationRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"res","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"res","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"userService","methodName":"getUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"reservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"mailService","methodName":"sendEmail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService"},{"scopeName":"reservationRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"}]},"updateReservation":{"name":"updateReservation","lineBegin":113,"lineEnd":124,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"Reservation","variable":"reservation","qualifedType":""}],"variables":[{"type":"Optional\u003cReservation\u003e","variable":"oldReservation","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"}],"body":"{\n    Optional\u003cReservation\u003e oldReservation \u003d reservationRepository.findById(id);\n    if (!oldReservation.isPresent())\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Reservation not found.\");\n    else {\n        reservation.setReservationId(id);\n        reservationRepository.save(reservation);\n    }\n}","methodInvocations":[{"scopeName":"reservationRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"oldReservation","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"setReservationId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"}]},"getReservations":{"name":"getReservations","lineBegin":28,"lineEnd":30,"annotations":[],"returnDataType":["List\u003cReservation\u003e"],"identifier":["List","Reservation"],"parametersDataType":[],"variables":[],"body":"{\n    return reservationRepository.findAll();\n}","methodInvocations":[{"scopeName":"reservationRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"}]},"getCurrentReservations":{"name":"getCurrentReservations","lineBegin":32,"lineEnd":46,"annotations":[],"returnDataType":["List\u003cReservation\u003e"],"identifier":["List","Reservation"],"parametersDataType":[],"variables":[{"type":"SimpleDateFormat","variable":"dateFormatter","qualifedType":""},{"type":"Date","variable":"date","qualifedType":""},{"type":"String","variable":"dateDays","qualifedType":""},{"type":"List\u003cReservation\u003e","variable":"reservationList","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"type":"List\u003cReservation\u003e","variable":"returnList","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"type":"Reservation","variable":"temp","qualifedType":""},{"type":"Reservation","variable":"aReservationList","qualifedType":""}],"body":"{\n    SimpleDateFormat dateFormatter \u003d new SimpleDateFormat(\"dd/MM/yyyy\");\n    Date date \u003d new Date();\n    String dateDays \u003d dateFormatter.format(date);\n    List\u003cReservation\u003e reservationList \u003d reservationRepository.findByDateDays(dateDays);\n    List\u003cReservation\u003e returnList \u003d new ArrayList\u003c\u003e();\n    Reservation temp;\n    for (Reservation aReservationList : reservationList) {\n        temp \u003d aReservationList;\n        if (temp.getStatus().equals(\"PENDING\")) {\n            returnList.add(temp);\n        }\n    }\n    return returnList;\n}","methodInvocations":[{"scopeName":"dateFormatter","methodName":"format","targetClassName":""},{"scopeName":"reservationRepository","methodName":"findByDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"temp","methodName":"getStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"temp.getStatus()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"returnList","methodName":"add","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"}]},"getTableId":{"name":"getTableId","lineBegin":84,"lineEnd":111,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[{"type":"Reservation","variable":"reservation","qualifedType":""}],"variables":[{"type":"List\u003cRTable\u003e","variable":"tableList","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"type":"List\u003cRTable\u003e","variable":"reservable","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"type":"String","variable":"dateDays","qualifedType":""},{"type":"String","variable":"dateTime","qualifedType":""},{"type":"RTable","variable":"tempTable","qualifedType":""},{"type":"Reservation","variable":"tempReservation","qualifedType":""},{"type":"boolean","variable":"free","qualifedType":""},{"type":"List\u003cReservation\u003e","variable":"tempReservations","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"type":"int","variable":"j","qualifedType":""},{"type":"int","variable":"i","qualifedType":""}],"body":"{\n    List\u003cRTable\u003e tableList \u003d rTableService.getRTablesBySize(reservation.getAttendees());\n    List\u003cRTable\u003e reservable \u003d new ArrayList\u003c\u003e();\n    String dateDays \u003d reservation.getDateDays();\n    String dateTime \u003d reservation.getDateTime();\n    RTable tempTable;\n    Reservation tempReservation;\n    boolean free;\n    for (int i \u003d 0; i \u003c tableList.size(); i++) {\n        free \u003d true;\n        tempTable \u003d tableList.get(i);\n        List\u003cReservation\u003e tempReservations \u003d tempTable.getReservations();\n        for (int j \u003d 0; j \u003c tempReservations.size(); j++) {\n            tempReservation \u003d tempReservations.get(j);\n            if (tempReservation.getDateDays().equals(dateDays) \u0026\u0026 tempReservation.getDateTime().equals(dateTime)) {\n                free \u003d false;\n            }\n        }\n        if (free) {\n            reservable.add(tempTable);\n        }\n    }\n    if (reservable.size() \u003d\u003d 0) {\n        return Long.valueOf(-1);\n    } else {\n        return reservable.get(0).getRTableId();\n    }\n}","methodInvocations":[{"scopeName":"reservation","methodName":"getAttendees","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"rTableService","methodName":"getRTablesBySize","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"reservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tableList","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"tempTable","methodName":"getReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"tempReservations","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempReservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempReservation.getDateDays()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempReservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempReservation.getDateTime()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempReservations","methodName":"size","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservable","methodName":"add","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"tableList","methodName":"size","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"reservable","methodName":"size","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"reservable","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"reservable.get(0)","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}]}},"methodInvocations":[{"scopeName":"reservationRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservationRepository","methodName":"findByDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"temp","methodName":"getStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"temp.getStatus()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservation","methodName":"setRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservation","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"userService","methodName":"getUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"reservation","methodName":"getAttendees","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"mailService","methodName":"sendEmail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService"},{"scopeName":"rTableService","methodName":"getRTableById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"reservation","methodName":"setrTableNumber","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"setStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservation","methodName":"getAttendees","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"rTableService","methodName":"getRTablesBySize","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"reservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempTable","methodName":"getReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"tempReservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempReservation.getDateDays()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempReservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"tempReservation.getDateTime()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservation","methodName":"setReservationId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservationRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"},{"scopeName":"reservation","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"userService","methodName":"getUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"reservation","methodName":"getDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"getDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"mailService","methodName":"sendEmail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService"},{"scopeName":"reservationRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.http.HttpStatus","org.springframework.stereotype.Service","org.springframework.web.server.ResponseStatusException","pl.edu.wat.wcy.pz.restaurantServer.email.MailService","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.repository.ReservationRepository","java.text.SimpleDateFormat","java.util.ArrayList","java.util.Date","java.util.List","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.RestaurantServerApplication":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.RestaurantServerApplication","begin":1,"end":93,"isInterface":false,"annotations":["@SpringBootApplication"],"variables":["Role role","Role role2","Role role3","Set\u003cRole\u003e roles","User worker","User admin","byte[] fileContent","Dish dish1","Dish dish2","Dish dish3","Dish dish4","Dish dish5","Dish dish6","Dish dish7","Dish dish8","RTable rTable1","RTable rTable2","RTable rTable3","RTable rTable4","RTable rTable5","RTable rTable6"],"instance_variables":[],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"],"methods":{"init":{"name":"init","parametersDataType":["RoleRepository","UserRepository","RTableRepository","DishRepository"],"returnDataType":["ApplicationRunner"]},"main":{"name":"main","parametersDataType":["String"],"returnDataType":["void"]}},"myMethods":{"init":{"name":"init","lineBegin":30,"lineEnd":90,"annotations":["@Bean"],"returnDataType":["ApplicationRunner"],"identifier":[],"parametersDataType":[{"type":"RoleRepository","variable":"roleRepository","qualifedType":""},{"type":"UserRepository","variable":"userRepository","qualifedType":""},{"type":"RTableRepository","variable":"tableRepository","qualifedType":""},{"type":"DishRepository","variable":"dishRepository","qualifedType":""}],"variables":[{"type":"Role","variable":"role","qualifedType":""},{"type":"Role","variable":"role2","qualifedType":""},{"type":"Role","variable":"role3","qualifedType":""},{"type":"Set\u003cRole\u003e","variable":"roles","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Role"},{"type":"User","variable":"worker","qualifedType":""},{"type":"User","variable":"admin","qualifedType":""},{"type":"byte[]","variable":"fileContent","qualifedType":""},{"type":"Dish","variable":"dish1","qualifedType":""},{"type":"Dish","variable":"dish2","qualifedType":""},{"type":"Dish","variable":"dish3","qualifedType":""},{"type":"Dish","variable":"dish4","qualifedType":""},{"type":"Dish","variable":"dish5","qualifedType":""},{"type":"Dish","variable":"dish6","qualifedType":""},{"type":"Dish","variable":"dish7","qualifedType":""},{"type":"Dish","variable":"dish8","qualifedType":""},{"type":"RTable","variable":"rTable1","qualifedType":""},{"type":"RTable","variable":"rTable2","qualifedType":""},{"type":"RTable","variable":"rTable3","qualifedType":""},{"type":"RTable","variable":"rTable4","qualifedType":""},{"type":"RTable","variable":"rTable5","qualifedType":""},{"type":"RTable","variable":"rTable6","qualifedType":""}],"body":"{\n    return args -\u003e {\n        Role role \u003d new Role(1L, \"ADMIN\");\n        Role role2 \u003d new Role(2L, \"WORKER\");\n        Role role3 \u003d new Role(3L, \"USER\");\n        roleRepository.save(role);\n        roleRepository.save(role2);\n        roleRepository.save(role3);\n        Set\u003cRole\u003e roles \u003d new HashSet\u003c\u003e();\n        roles.add(role3);\n        roles.add(role2);\n        User worker \u003d new User(\"w@w.pl\", \"Worker\", \"Worker\", \"$2a$10$ELwxAkpJa2daHpaIKkY/XOeq8FxyyRQhIfjOvv3FU.I4NLBOciMP.\", roles);\n        userRepository.save(worker);\n        roles.add(role);\n        User admin \u003d new User(\"a@a.pl\", \"Admin\", \"Admin\", \"$2a$10$ELwxAkpJa2daHpaIKkY/XOeq8FxyyRQhIfjOvv3FU.I4NLBOciMP.\", roles);\n        userRepository.save(admin);\n        byte[] fileContent \u003d FileUtils.readFileToByteArray(new File(\"src/main/resources/images/sausage.png\"));\n        Dish dish1 \u003d new Dish(\"Sausage\", \"Kiełbasa\", 14.99, Base64.getEncoder().encodeToString(fileContent));\n        fileContent \u003d FileUtils.readFileToByteArray(new File(\"src/main/resources/images/orangejuice.png\"));\n        Dish dish2 \u003d new Dish(\"Orange juice\", \"Sok pomarańczowy\", 6.00, Base64.getEncoder().encodeToString(fileContent));\n        fileContent \u003d FileUtils.readFileToByteArray(new File(\"src/main/resources/images/beef.png\"));\n        Dish dish3 \u003d new Dish(\"Beef\", \"Wołowina\", 24.99, Base64.getEncoder().encodeToString(fileContent));\n        fileContent \u003d FileUtils.readFileToByteArray(new File(\"src/main/resources/images/porkchops.png\"));\n        Dish dish4 \u003d new Dish(\"Pork chops\", \"Kotlety schabowe\", 19.99, Base64.getEncoder().encodeToString(fileContent));\n        fileContent \u003d FileUtils.readFileToByteArray(new File(\"src/main/resources/images/water.png\"));\n        Dish dish5 \u003d new Dish(\"Water\", \"Woda\", 2.50, Base64.getEncoder().encodeToString(fileContent));\n        fileContent \u003d FileUtils.readFileToByteArray(new File(\"src/main/resources/images/fish.png\"));\n        Dish dish6 \u003d new Dish(\"Fish and chips\", \"Ryba z frytkami\", 18.99, Base64.getEncoder().encodeToString(fileContent));\n        fileContent \u003d FileUtils.readFileToByteArray(new File(\"src/main/resources/images/chicken.png\"));\n        Dish dish7 \u003d new Dish(\"Grilled chicken\", \"Grilowany kurczak\", 15.00, Base64.getEncoder().encodeToString(fileContent));\n        fileContent \u003d FileUtils.readFileToByteArray(new File(\"src/main/resources/images/spaghetti.png\"));\n        Dish dish8 \u003d new Dish(\"Spaghetti bolognese\", \"Spaghetti bolońskie\", 13.50, Base64.getEncoder().encodeToString(fileContent));\n        dishRepository.save(dish1);\n        dishRepository.save(dish2);\n        dishRepository.save(dish3);\n        dishRepository.save(dish4);\n        dishRepository.save(dish5);\n        dishRepository.save(dish6);\n        dishRepository.save(dish7);\n        dishRepository.save(dish8);\n        RTable rTable1 \u003d new RTable(1, 3, \"FREE\");\n        RTable rTable2 \u003d new RTable(2, 3, \"FREE\");\n        RTable rTable3 \u003d new RTable(3, 4, \"FREE\");\n        RTable rTable4 \u003d new RTable(4, 4, \"FREE\");\n        RTable rTable5 \u003d new RTable(5, 2, \"FREE\");\n        RTable rTable6 \u003d new RTable(6, 2, \"FREE\");\n        tableRepository.save(rTable1);\n        tableRepository.save(rTable2);\n        tableRepository.save(rTable3);\n        tableRepository.save(rTable4);\n        tableRepository.save(rTable5);\n        tableRepository.save(rTable6);\n    };\n}","methodInvocations":[{"scopeName":"roleRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository"},{"scopeName":"roleRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository"},{"scopeName":"roleRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository"},{"scopeName":"roles","methodName":"add","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Role"},{"scopeName":"roles","methodName":"add","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Role"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"roles","methodName":"add","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Role"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"}]},"main":{"name":"main","lineBegin":26,"lineEnd":28,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String[]","variable":"args","qualifedType":""}],"variables":[],"body":"{\n    SpringApplication.run(RestaurantServerApplication.class, args);\n}","methodInvocations":[]}},"methodInvocations":[{"scopeName":"roleRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository"},{"scopeName":"roleRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository"},{"scopeName":"roleRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"tableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"}],"implementedTypes":[],"extendedTypes":[],"imports":["org.apache.commons.io.FileUtils","org.springframework.boot.ApplicationRunner","org.springframework.boot.SpringApplication","org.springframework.boot.autoconfigure.SpringBootApplication","org.springframework.context.annotation.Bean","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository","java.io.File","java.net.URL","java.util.Base64","java.util.HashSet","java.util.Set"]},"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService","begin":1,"end":79,"isInterface":false,"annotations":["@AllArgsConstructor","@Service"],"variables":["BillPositionRepository billPositionRepository","BillService billService","DishService dishService","Optional\u003cBillPosition\u003e billPosition","Optional\u003cBillPosition\u003e oldBillPosition","Optional\u003cBillPosition\u003e billPosition"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"BillPositionRepository","variable":"billPositionRepository","lineBegin":18,"lineEnd":18},{"annotations":[],"modifier":"private ","identifier":[],"type":"BillService","variable":"billService","lineBegin":19,"lineEnd":19},{"annotations":[],"modifier":"private ","identifier":[],"type":"DishService","variable":"dishService","lineBegin":20,"lineEnd":20}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository","pl.edu.wat.wcy.pz.restaurantServer.service.BillService","pl.edu.wat.wcy.pz.restaurantServer.service.DishService","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"],"methods":{"getBillPositions":{"name":"getBillPositions","parametersDataType":[],"returnDataType":["BillPosition"]},"updateBillPosition":{"name":"updateBillPosition","parametersDataType":["Long","BillPosition"],"returnDataType":["void"]},"addBillPosition":{"name":"addBillPosition","parametersDataType":["BillPosition"],"returnDataType":["void"]},"getBillPositionById":{"name":"getBillPositionById","parametersDataType":["Long"],"returnDataType":["BillPosition"]},"deleteBillPositionById":{"name":"deleteBillPositionById","parametersDataType":["Long"],"returnDataType":["void"]}},"myMethods":{"getBillPositions":{"name":"getBillPositions","lineBegin":22,"lineEnd":24,"annotations":[],"returnDataType":["List\u003cBillPosition\u003e"],"identifier":["List","BillPosition"],"parametersDataType":[],"variables":[],"body":"{\n    return billPositionRepository.findAll();\n}","methodInvocations":[{"scopeName":"billPositionRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"}]},"updateBillPosition":{"name":"updateBillPosition","lineBegin":49,"lineEnd":60,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"BillPosition","variable":"billPosition","qualifedType":""}],"variables":[{"type":"Optional\u003cBillPosition\u003e","variable":"oldBillPosition","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"}],"body":"{\n    Optional\u003cBillPosition\u003e oldBillPosition \u003d billPositionRepository.findById(id);\n    if (!oldBillPosition.isPresent())\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"BillPosition not found.\");\n    else {\n        billPosition.setBillPositionId(id);\n        billPositionRepository.save(billPosition);\n    }\n}","methodInvocations":[{"scopeName":"billPositionRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"oldBillPosition","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition","methodName":"setBillPositionId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPositionRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"}]},"addBillPosition":{"name":"addBillPosition","lineBegin":36,"lineEnd":47,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"BillPosition","variable":"billPosition","qualifedType":""}],"variables":[],"body":"{\n    if (billService.getBillById(billPosition.getBillId()).get().getStatus().equals(\"PAID\")) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"Bill has already been closed.\");\n    } else {\n        billPosition.setDishId(billPosition.getDishId());\n        billService.getBillById(billPosition.getBillId()).get().changeValue(billPosition.getDishId().getPrice());\n        billPositionRepository.save(billPosition);\n    }\n}","methodInvocations":[{"scopeName":"billPosition","methodName":"getBillId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billPosition","methodName":"getDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition","methodName":"setDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition","methodName":"getDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition.getDishId()","methodName":"getPrice","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"billPosition","methodName":"getBillId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billPositionRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"}]},"getBillPositionById":{"name":"getBillPositionById","lineBegin":26,"lineEnd":34,"annotations":[],"returnDataType":["Optional\u003cBillPosition\u003e"],"identifier":["Optional","BillPosition"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cBillPosition\u003e","variable":"billPosition","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"}],"body":"{\n    Optional\u003cBillPosition\u003e billPosition \u003d billPositionRepository.findById(id);\n    if (billPosition.isPresent()) {\n        return billPosition;\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"BillPosition not found.\");\n    }\n}","methodInvocations":[{"scopeName":"billPositionRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"billPosition","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"}]},"deleteBillPositionById":{"name":"deleteBillPositionById","lineBegin":62,"lineEnd":77,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cBillPosition\u003e","variable":"billPosition","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"}],"body":"{\n    Optional\u003cBillPosition\u003e billPosition \u003d billPositionRepository.findById(id);\n    if (billPosition.isPresent()) {\n        if (billService.getBillById(billPosition.get().getBillId()).get().getStatus().equals(\"PAID\")) {\n            throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"Bill has already been closed.\");\n        } else {\n            billService.getBillById(billPosition.get().getBillId()).get().changeValue(-billPosition.get().getDishId().getPrice());\n            billPositionRepository.deleteById(id);\n        }\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"BillPosition not found.\");\n    }\n}","methodInvocations":[{"scopeName":"billPositionRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"billPosition","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition.get()","methodName":"getBillId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billPosition","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition.get()","methodName":"getDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition.get().getDishId()","methodName":"getPrice","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition.get()","methodName":"getBillId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billPositionRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"}]}},"methodInvocations":[{"scopeName":"billPositionRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"billPositionRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"billPosition","methodName":"getBillId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billPosition","methodName":"getDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition","methodName":"setDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition","methodName":"getDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPosition.getDishId()","methodName":"getPrice","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"billPosition","methodName":"getBillId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billPositionRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"billPositionRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"billPosition","methodName":"setBillPositionId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"},{"scopeName":"billPositionRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"billPositionRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billPositionRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.http.HttpStatus","org.springframework.stereotype.Service","org.springframework.web.server.ResponseStatusException","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository","java.util.List","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.email.MailService":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService","begin":1,"end":37,"isInterface":false,"annotations":["@Service"],"variables":["JavaMailSender javaMailSender","MimeMessage mail","MimeMessageHelper helper"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"JavaMailSender","variable":"javaMailSender","lineBegin":14,"lineEnd":14}],"dependencies":[],"methods":{"sendEmail":{"name":"sendEmail","parametersDataType":["String","String","String"],"returnDataType":["void"]}},"myMethods":{"sendEmail":{"name":"sendEmail","lineBegin":21,"lineEnd":35,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"destination","qualifedType":""},{"type":"String","variable":"subject","qualifedType":""},{"type":"String","variable":"content","qualifedType":""}],"variables":[{"type":"MimeMessage","variable":"mail","qualifedType":""},{"type":"MimeMessageHelper","variable":"helper","qualifedType":""}],"body":"{\n    MimeMessage mail \u003d javaMailSender.createMimeMessage();\n    try {\n        MimeMessageHelper helper \u003d new MimeMessageHelper(mail, true);\n        helper.setTo(destination);\n        helper.setReplyTo(\"restaurantprojectPZ@gmail.com\");\n        helper.setFrom(\"restaurantprojectPZ@gmail.com\");\n        helper.setSubject(subject);\n        helper.setText(content);\n    } catch (MessagingException e) {\n        e.printStackTrace();\n    }\n    javaMailSender.send(mail);\n}","methodInvocations":[{"scopeName":"helper","methodName":"setTo","targetClassName":""},{"scopeName":"helper","methodName":"setReplyTo","targetClassName":""},{"scopeName":"helper","methodName":"setFrom","targetClassName":""},{"scopeName":"helper","methodName":"setSubject","targetClassName":""},{"scopeName":"helper","methodName":"setText","targetClassName":""}]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["org.springframework.beans.factory.annotation.Autowired","org.springframework.mail.javamail.JavaMailSender","org.springframework.mail.javamail.MimeMessageHelper","org.springframework.stereotype.Service","javax.mail.MessagingException","javax.mail.internet.MimeMessage"]},"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm","begin":1,"end":56,"isInterface":false,"annotations":["@Getter","@Setter"],"variables":["String mail","String firstName","String lastName","Set\u003cString\u003e roles","String password"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"mail","lineBegin":11,"lineEnd":11},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"firstName","lineBegin":12,"lineEnd":12},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"lastName","lineBegin":13,"lineEnd":13},{"annotations":[],"modifier":"private ","identifier":["Set","String"],"type":"Set\u003cString\u003e","variable":"roles","lineBegin":14,"lineEnd":14},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"password","lineBegin":15,"lineEnd":15}],"dependencies":[],"methods":{"setLastName":{"name":"setLastName","parametersDataType":["String"],"returnDataType":["void"]},"setPassword":{"name":"setPassword","parametersDataType":["String"],"returnDataType":["void"]},"getPassword":{"name":"getPassword","parametersDataType":[],"returnDataType":["String"]},"setMail":{"name":"setMail","parametersDataType":["String"],"returnDataType":["void"]},"setFirstName":{"name":"setFirstName","parametersDataType":["String"],"returnDataType":["void"]},"getFirstName":{"name":"getFirstName","parametersDataType":[],"returnDataType":["String"]},"getLastName":{"name":"getLastName","parametersDataType":[],"returnDataType":["String"]},"setRoles":{"name":"setRoles","parametersDataType":["String"],"returnDataType":["void"]},"getMail":{"name":"getMail","parametersDataType":[],"returnDataType":["String"]},"getRoles":{"name":"getRoles","parametersDataType":[],"returnDataType":["String"]}},"myMethods":{"setLastName":{"name":"setLastName","lineBegin":37,"lineEnd":39,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"lastName","qualifedType":""}],"variables":[],"body":"{\n    this.lastName \u003d lastName;\n}","methodInvocations":[]},"setPassword":{"name":"setPassword","lineBegin":53,"lineEnd":55,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"password","qualifedType":""}],"variables":[],"body":"{\n    this.password \u003d password;\n}","methodInvocations":[]},"getPassword":{"name":"getPassword","lineBegin":49,"lineEnd":51,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return password;\n}","methodInvocations":[]},"setMail":{"name":"setMail","lineBegin":21,"lineEnd":23,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"mail","qualifedType":""}],"variables":[],"body":"{\n    this.mail \u003d mail;\n}","methodInvocations":[]},"setFirstName":{"name":"setFirstName","lineBegin":29,"lineEnd":31,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"firstName","qualifedType":""}],"variables":[],"body":"{\n    this.firstName \u003d firstName;\n}","methodInvocations":[]},"getFirstName":{"name":"getFirstName","lineBegin":25,"lineEnd":27,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return firstName;\n}","methodInvocations":[]},"getLastName":{"name":"getLastName","lineBegin":33,"lineEnd":35,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return lastName;\n}","methodInvocations":[]},"setRoles":{"name":"setRoles","lineBegin":45,"lineEnd":47,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Set\u003cString\u003e","variable":"roles","qualifedType":""}],"variables":[],"body":"{\n    this.roles \u003d roles;\n}","methodInvocations":[]},"getMail":{"name":"getMail","lineBegin":17,"lineEnd":19,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return mail;\n}","methodInvocations":[]},"getRoles":{"name":"getRoles","lineBegin":41,"lineEnd":43,"annotations":[],"returnDataType":["Set\u003cString\u003e"],"identifier":["Set","String"],"parametersDataType":[],"variables":[],"body":"{\n    return roles;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.Getter","lombok.Setter","java.util.Set"]},"pl.edu.wat.wcy.pz.restaurantServer.controller.ReservationController":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.controller.ReservationController","begin":1,"end":70,"isInterface":false,"annotations":["@AllArgsConstructor","@RestController","@CrossOrigin"],"variables":["ReservationService reservationService","Optional\u003cReservation\u003e reservation","Date date","SimpleDateFormat dateFormatter","SimpleDateFormat timeFormatter","String dateDays","String dateTime"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"ReservationService","variable":"reservationService","lineBegin":20,"lineEnd":20}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"],"methods":{"getReservationById":{"name":"getReservationById","parametersDataType":["Long"],"returnDataType":["Reservation"]},"addReservation":{"name":"addReservation","parametersDataType":["Reservation"],"returnDataType":["void"]},"updateReservation":{"name":"updateReservation","parametersDataType":["Long","Reservation"],"returnDataType":["void"]},"getReservations":{"name":"getReservations","parametersDataType":[],"returnDataType":["Reservation"]},"deleteReservation":{"name":"deleteReservation","parametersDataType":["Long"],"returnDataType":["void"]},"getCurrentReservations":{"name":"getCurrentReservations","parametersDataType":[],"returnDataType":["Reservation"]}},"myMethods":{"getReservationById":{"name":"getReservationById","lineBegin":33,"lineEnd":37,"annotations":["@GetMapping(value \u003d \"/reservations/{id}\")"],"returnDataType":["Reservation"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cReservation\u003e","variable":"reservation","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"}],"body":"{\n    Optional\u003cReservation\u003e reservation \u003d reservationService.getReservationById(id);\n    return reservation.orElse(null);\n}","methodInvocations":[{"scopeName":"reservationService","methodName":"getReservationById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"},{"scopeName":"reservation","methodName":"orElse","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"}]},"addReservation":{"name":"addReservation","lineBegin":39,"lineEnd":55,"annotations":["@PostMapping(\"/reservations\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Reservation","variable":"reservation","qualifedType":""}],"variables":[{"type":"Date","variable":"date","qualifedType":""},{"type":"SimpleDateFormat","variable":"dateFormatter","qualifedType":""},{"type":"SimpleDateFormat","variable":"timeFormatter","qualifedType":""},{"type":"String","variable":"dateDays","qualifedType":""},{"type":"String","variable":"dateTime","qualifedType":""}],"body":"{\n    Date date \u003d reservation.getDate();\n    if (date !\u003d null) {\n        if (date.before(new Date())) {\n            throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"Can\u0027t make reservation for past dates.\");\n        }\n        SimpleDateFormat dateFormatter \u003d new SimpleDateFormat(\"dd/MM/yyyy\");\n        SimpleDateFormat timeFormatter \u003d new SimpleDateFormat(\"HH:mm\");\n        String dateDays \u003d dateFormatter.format(date);\n        String dateTime \u003d timeFormatter.format(date);\n        reservation.setDateDays(dateDays);\n        reservation.setDateTime(dateTime);\n    }\n    reservationService.addReservation(reservation);\n}","methodInvocations":[{"scopeName":"reservation","methodName":"getDate","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"date","methodName":"before","targetClassName":""},{"scopeName":"dateFormatter","methodName":"format","targetClassName":""},{"scopeName":"timeFormatter","methodName":"format","targetClassName":""},{"scopeName":"reservation","methodName":"setDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"setDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationService","methodName":"addReservation","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"}]},"updateReservation":{"name":"updateReservation","lineBegin":57,"lineEnd":61,"annotations":["@PutMapping(\"/reservations/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"Reservation","variable":"reservation","qualifedType":""}],"variables":[],"body":"{\n    reservationService.updateReservation(id, reservation);\n}","methodInvocations":[{"scopeName":"reservationService","methodName":"updateReservation","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"}]},"getReservations":{"name":"getReservations","lineBegin":23,"lineEnd":26,"annotations":["@GetMapping(\"/reservations\")"],"returnDataType":["Collection\u003cReservation\u003e"],"identifier":["Collection","Reservation"],"parametersDataType":[],"variables":[],"body":"{\n    return reservationService.getReservations();\n}","methodInvocations":[{"scopeName":"reservationService","methodName":"getReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"}]},"deleteReservation":{"name":"deleteReservation","lineBegin":63,"lineEnd":66,"annotations":["@DeleteMapping(\"/reservations/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    reservationService.deleteReservationById(id);\n}","methodInvocations":[{"scopeName":"reservationService","methodName":"deleteReservationById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"}]},"getCurrentReservations":{"name":"getCurrentReservations","lineBegin":28,"lineEnd":31,"annotations":["@GetMapping(\"/reservations/current\")"],"returnDataType":["Collection\u003cReservation\u003e"],"identifier":["Collection","Reservation"],"parametersDataType":[],"variables":[],"body":"{\n    return reservationService.getCurrentReservations();\n}","methodInvocations":[{"scopeName":"reservationService","methodName":"getCurrentReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"}]}},"methodInvocations":[{"scopeName":"reservationService","methodName":"getReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"},{"scopeName":"reservationService","methodName":"getCurrentReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"},{"scopeName":"reservationService","methodName":"getReservationById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"},{"scopeName":"reservation","methodName":"getDate","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"setDateDays","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservation","methodName":"setDateTime","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"},{"scopeName":"reservationService","methodName":"addReservation","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"},{"scopeName":"reservationService","methodName":"updateReservation","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"},{"scopeName":"reservationService","methodName":"deleteReservationById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.http.HttpStatus","org.springframework.web.bind.annotation","org.springframework.web.server.ResponseStatusException","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.service.ReservationService","java.text.SimpleDateFormat","java.util.Collection","java.util.Date","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.controller.AuthController":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.controller.AuthController","begin":1,"end":95,"isInterface":false,"annotations":["@AllArgsConstructor","@CrossOrigin","@RestController","@RequestMapping(\"/auth\")"],"variables":["Logger LOGGER","AuthenticationManager authenticationManager","UserRepository userRepository","RoleRepository roleRepository","MailService mailService","PasswordEncoder encoder","JwtProvider jwtProvider","Authentication authentication","String jwt","UserDetails userDetails","UserDetails principal","Optional\u003cUser\u003e user","Set\u003cRole\u003e roles","Role role","User user"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"Logger","variable":"LOGGER","lineBegin":36,"lineEnd":36},{"annotations":[],"modifier":"private ","identifier":[],"type":"AuthenticationManager","variable":"authenticationManager","lineBegin":38,"lineEnd":38},{"annotations":[],"modifier":"private ","identifier":[],"type":"UserRepository","variable":"userRepository","lineBegin":40,"lineEnd":40},{"annotations":[],"modifier":"private ","identifier":[],"type":"RoleRepository","variable":"roleRepository","lineBegin":41,"lineEnd":41},{"annotations":[],"modifier":"private ","identifier":[],"type":"MailService","variable":"mailService","lineBegin":42,"lineEnd":42},{"annotations":[],"modifier":"private ","identifier":[],"type":"PasswordEncoder","variable":"encoder","lineBegin":44,"lineEnd":44},{"annotations":[],"modifier":"private ","identifier":[],"type":"JwtProvider","variable":"jwtProvider","lineBegin":45,"lineEnd":45}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository","pl.edu.wat.wcy.pz.restaurantServer.email.MailService","pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.form.LoginForm","pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"],"methods":{"authenticateUser":{"name":"authenticateUser","parametersDataType":["LoginForm"],"returnDataType":[]},"createUser":{"name":"createUser","parametersDataType":["SignUpForm"],"returnDataType":["void"]}},"myMethods":{"authenticateUser":{"name":"authenticateUser","lineBegin":48,"lineEnd":68,"annotations":["@PostMapping(\"/login\")"],"returnDataType":["ResponseEntity\u003c?\u003e"],"identifier":["ResponseEntity","?"],"parametersDataType":[{"type":"LoginForm","variable":"loginForm","qualifedType":""}],"variables":[{"type":"Authentication","variable":"authentication","qualifedType":""},{"type":"String","variable":"jwt","qualifedType":""},{"type":"UserDetails","variable":"userDetails","qualifedType":""},{"type":"UserDetails","variable":"principal","qualifedType":""},{"type":"Optional\u003cUser\u003e","variable":"user","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}],"body":"{\n    Authentication authentication \u003d authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginForm.getMail(), loginForm.getPassword()));\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    String jwt \u003d jwtProvider.generateJwtToken(authentication);\n    UserDetails userDetails \u003d (UserDetails) authentication.getPrincipal();\n    UserDetails principal \u003d (UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n    LOGGER.info(\"Logged user: \" + principal.getUsername() + \". Authorities: \" + principal.getAuthorities().toString());\n    Optional\u003cUser\u003e user \u003d userRepository.findByMail(principal.getUsername());\n    if (user.isPresent()) {\n        return ResponseEntity.ok(new JwtResponse(jwt, user.get()));\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Invalid login data.\");\n    }\n}","methodInvocations":[{"scopeName":"loginForm","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.LoginForm"},{"scopeName":"loginForm","methodName":"getPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.LoginForm"},{"scopeName":"jwtProvider","methodName":"generateJwtToken","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider"},{"scopeName":"authentication","methodName":"getPrincipal","targetClassName":""},{"scopeName":"principal","methodName":"getUsername","targetClassName":""},{"scopeName":"principal","methodName":"getAuthorities","targetClassName":""},{"scopeName":"principal.getAuthorities()","methodName":"toString","targetClassName":""},{"scopeName":"principal","methodName":"getUsername","targetClassName":""},{"scopeName":"userRepository","methodName":"findByMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"user","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}]},"createUser":{"name":"createUser","lineBegin":71,"lineEnd":94,"annotations":["@PostMapping(\"/register\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"SignUpForm","variable":"signUpForm","qualifedType":""}],"variables":[{"type":"Set\u003cRole\u003e","variable":"roles","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Role"},{"type":"Role","variable":"role","qualifedType":""},{"type":"User","variable":"user","qualifedType":""}],"body":"{\n    if (userRepository.existsByMail(signUpForm.getMail())) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"User with this email already exists.\");\n    }\n    Set\u003cRole\u003e roles \u003d new HashSet\u003c\u003e();\n    signUpForm.getRoles().forEach(roleName -\u003e {\n        if (roleName.equalsIgnoreCase(roleName)) {\n            Role role \u003d roleRepository.findByRoleName(roleName).orElseThrow(() -\u003e new ResponseStatusException(HttpStatus.FORBIDDEN, \"Role not found: \" + roleName));\n            roles.add(role);\n        }\n    });\n    User user \u003d new User(signUpForm.getMail(), signUpForm.getFirstName(), signUpForm.getLastName(), encoder.encode(signUpForm.getPassword()), roles);\n    userRepository.save(user);\n    mailService.sendEmail(user.getMail(), \"Welcome to Restaurant!\", \"Hello \" + user.getFirstName() + \", thanks for using our system!\");\n    throw new ResponseStatusException(HttpStatus.CREATED, \"Registration successful\");\n}","methodInvocations":[{"scopeName":"signUpForm","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"userRepository","methodName":"existsByMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"roleRepository","methodName":"findByRoleName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository"},{"scopeName":"roles","methodName":"add","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Role"},{"scopeName":"signUpForm","methodName":"getRoles","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm.getRoles()","methodName":"forEach","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm","methodName":"getLastName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm","methodName":"getPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"mailService","methodName":"sendEmail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService"}]}},"methodInvocations":[{"scopeName":"loginForm","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.LoginForm"},{"scopeName":"loginForm","methodName":"getPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.LoginForm"},{"scopeName":"jwtProvider","methodName":"generateJwtToken","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider"},{"scopeName":"userRepository","methodName":"findByMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"signUpForm","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"userRepository","methodName":"existsByMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"roleRepository","methodName":"findByRoleName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository"},{"scopeName":"signUpForm","methodName":"getRoles","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm.getRoles()","methodName":"forEach","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm","methodName":"getLastName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"signUpForm","methodName":"getPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"mailService","methodName":"sendEmail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.slf4j.Logger","org.slf4j.LoggerFactory","org.springframework.http.HttpStatus","org.springframework.http.ResponseEntity","org.springframework.security.authentication.AuthenticationManager","org.springframework.security.authentication.UsernamePasswordAuthenticationToken","org.springframework.security.core.Authentication","org.springframework.security.core.context.SecurityContextHolder","org.springframework.security.core.userdetails.UserDetails","org.springframework.security.crypto.password.PasswordEncoder","org.springframework.web.bind.annotation","org.springframework.web.server.ResponseStatusException","pl.edu.wat.wcy.pz.restaurantServer.email.MailService","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.form.LoginForm","pl.edu.wat.wcy.pz.restaurantServer.form.SignUpForm","pl.edu.wat.wcy.pz.restaurantServer.form.response.JwtResponse","pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository","pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider","java.util.HashSet","java.util.Optional","java.util.Set"]},"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository","begin":1,"end":13,"isInterface":true,"annotations":["@Transactional","@Repository"],"variables":[],"instance_variables":[],"dependencies":[],"methods":{},"myMethods":{},"methodInvocations":[],"implementedTypes":[],"extendedTypes":["JpaRepository\u003cDish, Long\u003e"],"imports":["org.springframework.data.jpa.repository.JpaRepository","org.springframework.stereotype.Repository","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","javax.transaction.Transactional"]},"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl","begin":1,"end":22,"isInterface":false,"annotations":["@Service","@AllArgsConstructor"],"variables":["UserRepository userRepository","User user"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"UserRepository","variable":"userRepository","lineBegin":15,"lineEnd":15}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository","pl.edu.wat.wcy.pz.restaurantServer.entity.User"],"methods":{"loadUserByUsername":{"name":"loadUserByUsername","parametersDataType":["String"],"returnDataType":["UserDetails"]}},"myMethods":{"loadUserByUsername":{"name":"loadUserByUsername","lineBegin":17,"lineEnd":21,"annotations":["@Override"],"returnDataType":["UserDetails"],"identifier":[],"parametersDataType":[{"type":"String","variable":"s","qualifedType":""}],"variables":[{"type":"User","variable":"user","qualifedType":""}],"body":"{\n    User user \u003d userRepository.findByMail(s).orElseThrow(() -\u003e new UsernameNotFoundException(\"User with mail \" + s + \" not found.\"));\n    return UserPrinciple.build(user);\n}","methodInvocations":[{"scopeName":"userRepository","methodName":"findByMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"UserPrinciple","methodName":"build","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple"}]}},"methodInvocations":[{"scopeName":"userRepository","methodName":"findByMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"UserPrinciple","methodName":"build","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple"}],"implementedTypes":["UserDetailsService"],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.security.core.userdetails.UserDetails","org.springframework.security.core.userdetails.UserDetailsService","org.springframework.security.core.userdetails.UsernameNotFoundException","org.springframework.stereotype.Service","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"]},"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider","begin":1,"end":56,"isInterface":false,"annotations":["@Component"],"variables":["Logger LOGGER","String jwtSecret","int jwtExpiration","UserPrinciple principle"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"Logger","variable":"LOGGER","lineBegin":16,"lineEnd":16},{"annotations":["@Value(\"${authentication.secret.value}\")"],"modifier":"private ","identifier":[],"type":"String","variable":"jwtSecret","lineBegin":18,"lineEnd":19},{"annotations":["@Value(\"${authentication.secret.expiration}\")"],"modifier":"private ","identifier":[],"type":"int","variable":"jwtExpiration","lineBegin":21,"lineEnd":22}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple"],"methods":{"generateJwtToken":{"name":"generateJwtToken","parametersDataType":["Authentication"],"returnDataType":["String"]},"validateJwtToken":{"name":"validateJwtToken","parametersDataType":["String"],"returnDataType":["boolean"]},"getUsernameFromToken":{"name":"getUsernameFromToken","parametersDataType":["String"],"returnDataType":["String"]}},"myMethods":{"generateJwtToken":{"name":"generateJwtToken","lineBegin":24,"lineEnd":33,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[{"type":"Authentication","variable":"authentication","qualifedType":""}],"variables":[{"type":"UserPrinciple","variable":"principle","qualifedType":""}],"body":"{\n    UserPrinciple principle \u003d (UserPrinciple) authentication.getPrincipal();\n    return Jwts.builder().setSubject(principle.getUsername()).setIssuedAt(new Date()).setExpiration(new Date(new Date().getTime() + jwtExpiration * 1000)).signWith(SignatureAlgorithm.HS512, jwtSecret).compact();\n}","methodInvocations":[{"scopeName":"principle","methodName":"getUsername","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple"}]},"validateJwtToken":{"name":"validateJwtToken","lineBegin":35,"lineEnd":51,"annotations":[],"returnDataType":["boolean"],"identifier":[],"parametersDataType":[{"type":"String","variable":"authToken","qualifedType":""}],"variables":[],"body":"{\n    try {\n        Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n        return true;\n    } catch (SignatureException e) {\n        LOGGER.error(\"Signature validation fails.\", e);\n    } catch (MalformedJwtException e) {\n        LOGGER.error(\"Invalid token\", e);\n    } catch (ExpiredJwtException e) {\n        LOGGER.error(\"Expired token\", e);\n    } catch (UnsupportedJwtException e) {\n        LOGGER.error(\"Unsupported token\", e);\n    } catch (IllegalArgumentException e) {\n        LOGGER.error(\"Empty string\", e);\n    }\n    return false;\n}","methodInvocations":[]},"getUsernameFromToken":{"name":"getUsernameFromToken","lineBegin":53,"lineEnd":55,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[{"type":"String","variable":"authToken","qualifedType":""}],"variables":[],"body":"{\n    return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken).getBody().getSubject();\n}","methodInvocations":[]}},"methodInvocations":[{"scopeName":"principle","methodName":"getUsername","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple"}],"implementedTypes":[],"extendedTypes":[],"imports":["io.jsonwebtoken","org.slf4j.Logger","org.slf4j.LoggerFactory","org.springframework.beans.factory.annotation.Value","org.springframework.security.core.Authentication","org.springframework.stereotype.Component","pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple","java.util.Date"]},"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","begin":1,"end":111,"isInterface":false,"annotations":["@AllArgsConstructor","@NoArgsConstructor","@Entity","@Table(uniqueConstraints \u003d { @UniqueConstraint(columnNames \u003d { \"DATE\", \"RTABLE_ID\" }) })","@Builder"],"variables":["Long reservationId","Date date","String dateDays","String dateTime","Long rTableId","int rTableNumber","int attendees","Long userId","String status"],"instance_variables":[{"annotations":["@Id","@GeneratedValue(strategy \u003d GenerationType.IDENTITY)","@Column(name \u003d \"RESERVATION_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"reservationId","lineBegin":16,"lineEnd":19},{"annotations":["@Column(name \u003d \"DATE\")"],"modifier":"private ","identifier":[],"type":"Date","variable":"date","lineBegin":20,"lineEnd":21},{"annotations":["@Column(name \u003d \"DATE_DAYS\")"],"modifier":"private ","identifier":[],"type":"String","variable":"dateDays","lineBegin":22,"lineEnd":23},{"annotations":["@Column(name \u003d \"DATE_TIME\")"],"modifier":"private ","identifier":[],"type":"String","variable":"dateTime","lineBegin":24,"lineEnd":25},{"annotations":["@Column(name \u003d \"RTABLE_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"rTableId","lineBegin":26,"lineEnd":27},{"annotations":["@Column(name \u003d \"RTABLE_NUMBER\")"],"modifier":"private ","identifier":[],"type":"int","variable":"rTableNumber","lineBegin":28,"lineEnd":29},{"annotations":["@Column(name \u003d \"ATTENDEES\")"],"modifier":"private ","identifier":[],"type":"int","variable":"attendees","lineBegin":30,"lineEnd":31},{"annotations":["@Column(name \u003d \"USER_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"userId","lineBegin":32,"lineEnd":33},{"annotations":["@Column(name \u003d \"STATUS\")"],"modifier":"private ","identifier":[],"type":"String","variable":"status","lineBegin":34,"lineEnd":35}],"dependencies":[],"methods":{"setDateDays":{"name":"setDateDays","parametersDataType":["String"],"returnDataType":["void"]},"getReservationId":{"name":"getReservationId","parametersDataType":[],"returnDataType":["Long"]},"getDateTime":{"name":"getDateTime","parametersDataType":[],"returnDataType":["String"]},"getRTableId":{"name":"getRTableId","parametersDataType":[],"returnDataType":["Long"]},"setrTableNumber":{"name":"setrTableNumber","parametersDataType":["int"],"returnDataType":["void"]},"setReservationId":{"name":"setReservationId","parametersDataType":["Long"],"returnDataType":["void"]},"getStatus":{"name":"getStatus","parametersDataType":[],"returnDataType":["String"]},"setStatus":{"name":"setStatus","parametersDataType":["String"],"returnDataType":["void"]},"getAttendees":{"name":"getAttendees","parametersDataType":[],"returnDataType":["int"]},"setDateTime":{"name":"setDateTime","parametersDataType":["String"],"returnDataType":["void"]},"getDateDays":{"name":"getDateDays","parametersDataType":[],"returnDataType":["String"]},"setAttendees":{"name":"setAttendees","parametersDataType":["int"],"returnDataType":["void"]},"setRTableId":{"name":"setRTableId","parametersDataType":["Long"],"returnDataType":["void"]},"setDate":{"name":"setDate","parametersDataType":["Date"],"returnDataType":["void"]},"getDate":{"name":"getDate","parametersDataType":[],"returnDataType":["Date"]},"getrTableNumber":{"name":"getrTableNumber","parametersDataType":[],"returnDataType":["int"]},"getUserId":{"name":"getUserId","parametersDataType":[],"returnDataType":["Long"]},"setUserId":{"name":"setUserId","parametersDataType":["Long"],"returnDataType":["void"]}},"myMethods":{"setDateDays":{"name":"setDateDays","lineBegin":58,"lineEnd":60,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"dateDays","qualifedType":""}],"variables":[],"body":"{\n    this.dateDays \u003d dateDays;\n}","methodInvocations":[]},"getReservationId":{"name":"getReservationId","lineBegin":38,"lineEnd":40,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return reservationId;\n}","methodInvocations":[]},"getDateTime":{"name":"getDateTime","lineBegin":62,"lineEnd":64,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return dateTime;\n}","methodInvocations":[]},"getRTableId":{"name":"getRTableId","lineBegin":78,"lineEnd":80,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return rTableId;\n}","methodInvocations":[]},"setrTableNumber":{"name":"setrTableNumber","lineBegin":90,"lineEnd":92,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"int","variable":"rTableNumber","qualifedType":""}],"variables":[],"body":"{\n    this.rTableNumber \u003d rTableNumber;\n}","methodInvocations":[]},"setReservationId":{"name":"setReservationId","lineBegin":42,"lineEnd":44,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"reservationId","qualifedType":""}],"variables":[],"body":"{\n    this.reservationId \u003d reservationId;\n}","methodInvocations":[]},"getStatus":{"name":"getStatus","lineBegin":70,"lineEnd":72,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return status;\n}","methodInvocations":[]},"setStatus":{"name":"setStatus","lineBegin":74,"lineEnd":76,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"status","qualifedType":""}],"variables":[],"body":"{\n    this.status \u003d status;\n}","methodInvocations":[]},"getAttendees":{"name":"getAttendees","lineBegin":94,"lineEnd":96,"annotations":[],"returnDataType":["int"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return attendees;\n}","methodInvocations":[]},"setDateTime":{"name":"setDateTime","lineBegin":66,"lineEnd":68,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"dateTime","qualifedType":""}],"variables":[],"body":"{\n    this.dateTime \u003d dateTime;\n}","methodInvocations":[]},"getDateDays":{"name":"getDateDays","lineBegin":54,"lineEnd":56,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return dateDays;\n}","methodInvocations":[]},"setAttendees":{"name":"setAttendees","lineBegin":98,"lineEnd":100,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"int","variable":"attendees","qualifedType":""}],"variables":[],"body":"{\n    this.attendees \u003d attendees;\n}","methodInvocations":[]},"setRTableId":{"name":"setRTableId","lineBegin":82,"lineEnd":84,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"rTableId","qualifedType":""}],"variables":[],"body":"{\n    this.rTableId \u003d rTableId;\n}","methodInvocations":[]},"setDate":{"name":"setDate","lineBegin":50,"lineEnd":52,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Date","variable":"date","qualifedType":""}],"variables":[],"body":"{\n    this.date \u003d date;\n}","methodInvocations":[]},"getDate":{"name":"getDate","lineBegin":46,"lineEnd":48,"annotations":[],"returnDataType":["Date"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return date;\n}","methodInvocations":[]},"getrTableNumber":{"name":"getrTableNumber","lineBegin":86,"lineEnd":88,"annotations":[],"returnDataType":["int"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return rTableNumber;\n}","methodInvocations":[]},"getUserId":{"name":"getUserId","lineBegin":102,"lineEnd":104,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return userId;\n}","methodInvocations":[]},"setUserId":{"name":"setUserId","lineBegin":106,"lineEnd":108,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"userId","qualifedType":""}],"variables":[],"body":"{\n    this.userId \u003d userId;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","lombok.Builder","lombok.NoArgsConstructor","javax.persistence","java.util.Date"]},"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillPositionRepository","begin":1,"end":13,"isInterface":true,"annotations":["@Transactional","@Repository"],"variables":[],"instance_variables":[],"dependencies":[],"methods":{},"myMethods":{},"methodInvocations":[],"implementedTypes":[],"extendedTypes":["JpaRepository\u003cBillPosition, Long\u003e"],"imports":["org.springframework.data.jpa.repository.JpaRepository","org.springframework.stereotype.Repository","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","javax.transaction.Transactional"]},"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService","begin":1,"end":95,"isInterface":false,"annotations":["@AllArgsConstructor","@Service"],"variables":["RTableRepository rTableRepository","Optional\u003cRTable\u003e rTable","Optional\u003cRTable\u003e oldRTable","Optional\u003cRTable\u003e rTable","Optional\u003cRTable\u003e rTable","List\u003cBill\u003e bills","Bill temp","int i"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"RTableRepository","variable":"rTableRepository","lineBegin":19,"lineEnd":19}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"],"methods":{"addRTable":{"name":"addRTable","parametersDataType":["RTable"],"returnDataType":["void"]},"updateRTable":{"name":"updateRTable","parametersDataType":["Long","RTable"],"returnDataType":["void"]},"getRTablesBySize":{"name":"getRTablesBySize","parametersDataType":["int"],"returnDataType":["RTable"]},"deleteRTableById":{"name":"deleteRTableById","parametersDataType":["Long"],"returnDataType":["void"]},"getRTableById":{"name":"getRTableById","parametersDataType":["Long"],"returnDataType":["RTable"]},"getRTableBills":{"name":"getRTableBills","parametersDataType":["Long"],"returnDataType":["Bill"]},"getRTableReservations":{"name":"getRTableReservations","parametersDataType":["Long"],"returnDataType":["Reservation"]},"getRTables":{"name":"getRTables","parametersDataType":[],"returnDataType":["RTable"]},"getCurrentBill":{"name":"getCurrentBill","parametersDataType":["Long"],"returnDataType":["Bill"]}},"myMethods":{"addRTable":{"name":"addRTable","lineBegin":39,"lineEnd":48,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"RTable","variable":"rTable","qualifedType":""}],"variables":[],"body":"{\n    if (rTableRepository.existsByNumber(rTable.getNumber())) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"Table with this number already exists.\");\n    } else {\n        rTable.setStatus(\"FREE\");\n        rTableRepository.save(rTable);\n    }\n}","methodInvocations":[{"scopeName":"rTable","methodName":"getNumber","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTableRepository","methodName":"existsByNumber","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTable","methodName":"setStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"}]},"updateRTable":{"name":"updateRTable","lineBegin":50,"lineEnd":61,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"RTable","variable":"rTable","qualifedType":""}],"variables":[{"type":"Optional\u003cRTable\u003e","variable":"oldRTable","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}],"body":"{\n    Optional\u003cRTable\u003e oldRTable \u003d rTableRepository.findById(id);\n    if (!oldRTable.isPresent())\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Table not found.\");\n    else {\n        rTable.setRTableId(id);\n        rTableRepository.save(rTable);\n    }\n}","methodInvocations":[{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"oldRTable","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTable","methodName":"setRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"}]},"getRTablesBySize":{"name":"getRTablesBySize","lineBegin":25,"lineEnd":27,"annotations":[],"returnDataType":["List\u003cRTable\u003e"],"identifier":["List","RTable"],"parametersDataType":[{"type":"int","variable":"size","qualifedType":""}],"variables":[],"body":"{\n    return rTableRepository.findAllBySize(size);\n}","methodInvocations":[{"scopeName":"rTableRepository","methodName":"findAllBySize","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"}]},"deleteRTableById":{"name":"deleteRTableById","lineBegin":63,"lineEnd":70,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    if (rTableRepository.findById(id).isPresent()) {\n        rTableRepository.deleteById(id);\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Table not found.\");\n    }\n}","methodInvocations":[{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTableRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"}]},"getRTableById":{"name":"getRTableById","lineBegin":29,"lineEnd":37,"annotations":[],"returnDataType":["Optional\u003cRTable\u003e"],"identifier":["Optional","RTable"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cRTable\u003e","variable":"rTable","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}],"body":"{\n    Optional\u003cRTable\u003e rTable \u003d rTableRepository.findById(id);\n    if (rTable.isPresent()) {\n        return rTable;\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Table not found.\");\n    }\n}","methodInvocations":[{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTable","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}]},"getRTableBills":{"name":"getRTableBills","lineBegin":77,"lineEnd":80,"annotations":[],"returnDataType":["List\u003cBill\u003e"],"identifier":["List","Bill"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cRTable\u003e","variable":"rTable","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}],"body":"{\n    Optional\u003cRTable\u003e rTable \u003d getRTableById(id);\n    return rTable.get().getBills();\n}","methodInvocations":[{"scopeName":"rTable","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTable.get()","methodName":"getBills","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}]},"getRTableReservations":{"name":"getRTableReservations","lineBegin":72,"lineEnd":75,"annotations":[],"returnDataType":["List\u003cReservation\u003e"],"identifier":["List","Reservation"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cRTable\u003e","variable":"rTable","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}],"body":"{\n    Optional\u003cRTable\u003e rTable \u003d getRTableById(id);\n    return rTable.get().getReservations();\n}","methodInvocations":[{"scopeName":"rTable","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTable.get()","methodName":"getReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}]},"getRTables":{"name":"getRTables","lineBegin":21,"lineEnd":23,"annotations":[],"returnDataType":["List\u003cRTable\u003e"],"identifier":["List","RTable"],"parametersDataType":[],"variables":[],"body":"{\n    return rTableRepository.findAll();\n}","methodInvocations":[{"scopeName":"rTableRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"}]},"getCurrentBill":{"name":"getCurrentBill","lineBegin":82,"lineEnd":93,"annotations":[],"returnDataType":["Bill"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"List\u003cBill\u003e","variable":"bills","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"type":"Bill","variable":"temp","qualifedType":""},{"type":"int","variable":"i","qualifedType":""}],"body":"{\n    List\u003cBill\u003e bills \u003d getRTableBills(id);\n    Bill temp;\n    for (int i \u003d 0; i \u003c bills.size(); i++) {\n        temp \u003d bills.get(i);\n        if (temp.getStatus().equals(\"IN_PROGRESS\")) {\n            return temp;\n        }\n    }\n    throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Table don\u0027t have active bills.\");\n}","methodInvocations":[{"scopeName":"bills","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"temp","methodName":"getStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"temp.getStatus()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bills","methodName":"size","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}]}},"methodInvocations":[{"scopeName":"rTableRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTableRepository","methodName":"findAllBySize","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTable","methodName":"getNumber","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTableRepository","methodName":"existsByNumber","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTable","methodName":"setStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTable","methodName":"setRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTableRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTableRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"temp","methodName":"getStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"temp.getStatus()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.http.HttpStatus","org.springframework.stereotype.Service","org.springframework.web.server.ResponseStatusException","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","java.util.List","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.controller.DishController":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.controller.DishController","begin":1,"end":57,"isInterface":false,"annotations":["@AllArgsConstructor","@RestController","@CrossOrigin"],"variables":["DishService dishService","Optional\u003cDish\u003e dish","Optional\u003cDish\u003e dish"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"DishService","variable":"dishService","lineBegin":16,"lineEnd":16}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.service.DishService","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"],"methods":{"deleteDish":{"name":"deleteDish","parametersDataType":["Long"],"returnDataType":["void"]},"getDishById":{"name":"getDishById","parametersDataType":["Long"],"returnDataType":["Dish"]},"updateDish":{"name":"updateDish","parametersDataType":["Long","Dish"],"returnDataType":["void"]},"getDishes":{"name":"getDishes","parametersDataType":[],"returnDataType":["Dish"]},"addDish":{"name":"addDish","parametersDataType":["Dish"],"returnDataType":["void"]},"findDishes":{"name":"findDishes","parametersDataType":["String"],"returnDataType":["Dish"]}},"myMethods":{"deleteDish":{"name":"deleteDish","lineBegin":47,"lineEnd":53,"annotations":["@DeleteMapping(\"/dishes/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cDish\u003e","variable":"dish","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"}],"body":"{\n    Optional\u003cDish\u003e dish \u003d dishService.getDishById(id);\n    if (!dish.isPresent())\n        throw new RuntimeException(\"Dish not found\");\n    dishService.deleteDishById(id);\n}","methodInvocations":[{"scopeName":"dishService","methodName":"getDishById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"},{"scopeName":"dish","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishService","methodName":"deleteDishById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"}]},"getDishById":{"name":"getDishById","lineBegin":25,"lineEnd":29,"annotations":["@GetMapping(value \u003d \"/dishes/{id}\")"],"returnDataType":["Dish"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cDish\u003e","variable":"dish","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"}],"body":"{\n    Optional\u003cDish\u003e dish \u003d dishService.getDishById(id);\n    return dish.orElse(null);\n}","methodInvocations":[{"scopeName":"dishService","methodName":"getDishById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"},{"scopeName":"dish","methodName":"orElse","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"}]},"updateDish":{"name":"updateDish","lineBegin":41,"lineEnd":45,"annotations":["@PutMapping(\"/dishes/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"Dish","variable":"dish","qualifedType":""}],"variables":[],"body":"{\n    dishService.updateDish(id, dish);\n}","methodInvocations":[{"scopeName":"dishService","methodName":"updateDish","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"}]},"getDishes":{"name":"getDishes","lineBegin":19,"lineEnd":22,"annotations":["@GetMapping(\"/dishes\")"],"returnDataType":["Collection\u003cDish\u003e"],"identifier":["Collection","Dish"],"parametersDataType":[],"variables":[],"body":"{\n    return dishService.getDishes();\n}","methodInvocations":[{"scopeName":"dishService","methodName":"getDishes","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"}]},"addDish":{"name":"addDish","lineBegin":36,"lineEnd":39,"annotations":["@PostMapping(\"/dishes\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Dish","variable":"dish","qualifedType":""}],"variables":[],"body":"{\n    dishService.addDish(dish);\n}","methodInvocations":[{"scopeName":"dishService","methodName":"addDish","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"}]},"findDishes":{"name":"findDishes","lineBegin":31,"lineEnd":34,"annotations":["@GetMapping(value \u003d \"/dishes/name\u003d{term}\")"],"returnDataType":["Collection\u003cDish\u003e"],"identifier":["Collection","Dish"],"parametersDataType":[{"type":"String","variable":"term","qualifedType":""}],"variables":[],"body":"{\n    return dishService.findDishes(term);\n}","methodInvocations":[{"scopeName":"dishService","methodName":"findDishes","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"}]}},"methodInvocations":[{"scopeName":"dishService","methodName":"getDishes","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"},{"scopeName":"dishService","methodName":"getDishById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"},{"scopeName":"dishService","methodName":"findDishes","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"},{"scopeName":"dishService","methodName":"addDish","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"},{"scopeName":"dishService","methodName":"updateDish","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"},{"scopeName":"dishService","methodName":"getDishById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"},{"scopeName":"dishService","methodName":"deleteDishById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.web.bind.annotation","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.service.DishService","java.util.Collection","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.controller.BillPositionController":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.controller.BillPositionController","begin":1,"end":50,"isInterface":false,"annotations":["@AllArgsConstructor","@RestController","@CrossOrigin"],"variables":["BillPositionService billPositionService","Optional\u003cBillPosition\u003e billPosition","Optional\u003cBillPosition\u003e billPosition"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"BillPositionService","variable":"billPositionService","lineBegin":16,"lineEnd":16}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"],"methods":{"getBillPositions":{"name":"getBillPositions","parametersDataType":[],"returnDataType":["BillPosition"]},"updateBillPosition":{"name":"updateBillPosition","parametersDataType":["Long","BillPosition"],"returnDataType":["void"]},"deleteBillPosition":{"name":"deleteBillPosition","parametersDataType":["Long"],"returnDataType":["void"]},"addBillPosition":{"name":"addBillPosition","parametersDataType":["BillPosition"],"returnDataType":["void"]},"getBillPositionById":{"name":"getBillPositionById","parametersDataType":["Long"],"returnDataType":["BillPosition"]}},"myMethods":{"getBillPositions":{"name":"getBillPositions","lineBegin":19,"lineEnd":22,"annotations":["@GetMapping(\"/billPositions\")"],"returnDataType":["Collection\u003cBillPosition\u003e"],"identifier":["Collection","BillPosition"],"parametersDataType":[],"variables":[],"body":"{\n    return billPositionService.getBillPositions();\n}","methodInvocations":[{"scopeName":"billPositionService","methodName":"getBillPositions","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"}]},"updateBillPosition":{"name":"updateBillPosition","lineBegin":36,"lineEnd":40,"annotations":["@PutMapping(\"/billPositions/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"BillPosition","variable":"billPosition","qualifedType":""}],"variables":[],"body":"{\n    billPositionService.updateBillPosition(id, billPosition);\n}","methodInvocations":[{"scopeName":"billPositionService","methodName":"updateBillPosition","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"}]},"deleteBillPosition":{"name":"deleteBillPosition","lineBegin":42,"lineEnd":46,"annotations":["@DeleteMapping(\"/billPositions/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cBillPosition\u003e","variable":"billPosition","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"}],"body":"{\n    Optional\u003cBillPosition\u003e billPosition \u003d billPositionService.getBillPositionById(id);\n    billPositionService.deleteBillPositionById(id);\n}","methodInvocations":[{"scopeName":"billPositionService","methodName":"getBillPositionById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"},{"scopeName":"billPositionService","methodName":"deleteBillPositionById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"}]},"addBillPosition":{"name":"addBillPosition","lineBegin":31,"lineEnd":34,"annotations":["@PostMapping(\"/billPositions\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"BillPosition","variable":"billPosition","qualifedType":""}],"variables":[],"body":"{\n    billPositionService.addBillPosition(billPosition);\n}","methodInvocations":[{"scopeName":"billPositionService","methodName":"addBillPosition","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"}]},"getBillPositionById":{"name":"getBillPositionById","lineBegin":25,"lineEnd":29,"annotations":["@GetMapping(value \u003d \"/billPositions/{id}\")"],"returnDataType":["BillPosition"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cBillPosition\u003e","variable":"billPosition","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"}],"body":"{\n    Optional\u003cBillPosition\u003e billPosition \u003d billPositionService.getBillPositionById(id);\n    return billPosition.orElse(null);\n}","methodInvocations":[{"scopeName":"billPositionService","methodName":"getBillPositionById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"},{"scopeName":"billPosition","methodName":"orElse","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"}]}},"methodInvocations":[{"scopeName":"billPositionService","methodName":"getBillPositions","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"},{"scopeName":"billPositionService","methodName":"getBillPositionById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"},{"scopeName":"billPositionService","methodName":"addBillPosition","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"},{"scopeName":"billPositionService","methodName":"updateBillPosition","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"},{"scopeName":"billPositionService","methodName":"getBillPositionById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"},{"scopeName":"billPositionService","methodName":"deleteBillPositionById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.web.bind.annotation","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.service.BillPositionService","java.util.Collection","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.controller.UserController":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.controller.UserController","begin":1,"end":59,"isInterface":false,"annotations":["@AllArgsConstructor","@RestController","@CrossOrigin"],"variables":["UserService userService","MailService mailService","Optional\u003cUser\u003e user","Optional\u003cUser\u003e user"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"UserService","variable":"userService","lineBegin":18,"lineEnd":18},{"annotations":[],"modifier":"private ","identifier":[],"type":"MailService","variable":"mailService","lineBegin":19,"lineEnd":19}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.service.UserService","pl.edu.wat.wcy.pz.restaurantServer.email.MailService","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User"],"methods":{"getUserById":{"name":"getUserById","parametersDataType":["Long"],"returnDataType":["User"]},"getUserReservations":{"name":"getUserReservations","parametersDataType":["Long"],"returnDataType":["Reservation"]},"getUsers":{"name":"getUsers","parametersDataType":[],"returnDataType":["User"]},"addUser":{"name":"addUser","parametersDataType":["User"],"returnDataType":["void"]},"deleteUser":{"name":"deleteUser","parametersDataType":["Long"],"returnDataType":["void"]},"updateUser":{"name":"updateUser","parametersDataType":["Long","User"],"returnDataType":["void"]}},"myMethods":{"getUserById":{"name":"getUserById","lineBegin":28,"lineEnd":32,"annotations":["@GetMapping(value \u003d \"/users/{id}\")"],"returnDataType":["User"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cUser\u003e","variable":"user","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}],"body":"{\n    Optional\u003cUser\u003e user \u003d userService.getUserById(id);\n    return user.orElse(null);\n}","methodInvocations":[{"scopeName":"userService","methodName":"getUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"user","methodName":"orElse","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}]},"getUserReservations":{"name":"getUserReservations","lineBegin":34,"lineEnd":37,"annotations":["@GetMapping(value \u003d \"/users/{id}/reservations\")"],"returnDataType":["Collection\u003cReservation\u003e"],"identifier":["Collection","Reservation"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    return userService.getUserReservations(id);\n}","methodInvocations":[{"scopeName":"userService","methodName":"getUserReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"}]},"getUsers":{"name":"getUsers","lineBegin":22,"lineEnd":25,"annotations":["@GetMapping(\"/users\")"],"returnDataType":["Collection\u003cUser\u003e"],"identifier":["Collection","User"],"parametersDataType":[],"variables":[],"body":"{\n    return userService.getUsers();\n}","methodInvocations":[{"scopeName":"userService","methodName":"getUsers","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"}]},"addUser":{"name":"addUser","lineBegin":39,"lineEnd":43,"annotations":["@PostMapping(\"/users\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"User","variable":"user","qualifedType":""}],"variables":[],"body":"{\n    userService.addUser(user);\n    mailService.sendEmail(user.getMail(), \"Welcome to Restaurant!\", \"Hello \" + user.getFirstName() + \", thanks for using our system!\");\n}","methodInvocations":[{"scopeName":"userService","methodName":"addUser","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"mailService","methodName":"sendEmail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService"}]},"deleteUser":{"name":"deleteUser","lineBegin":51,"lineEnd":55,"annotations":["@DeleteMapping(\"/users/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cUser\u003e","variable":"user","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}],"body":"{\n    Optional\u003cUser\u003e user \u003d userService.getUserById(id);\n    userService.deleteUserById(id);\n}","methodInvocations":[{"scopeName":"userService","methodName":"getUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"userService","methodName":"deleteUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"}]},"updateUser":{"name":"updateUser","lineBegin":45,"lineEnd":49,"annotations":["@PutMapping(\"/users/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"User","variable":"user","qualifedType":""}],"variables":[],"body":"{\n    userService.updateUser(id, user);\n}","methodInvocations":[{"scopeName":"userService","methodName":"updateUser","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"}]}},"methodInvocations":[{"scopeName":"userService","methodName":"getUsers","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"userService","methodName":"getUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"userService","methodName":"getUserReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"userService","methodName":"addUser","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"mailService","methodName":"sendEmail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.email.MailService"},{"scopeName":"userService","methodName":"updateUser","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"userService","methodName":"getUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"},{"scopeName":"userService","methodName":"deleteUserById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.web.bind.annotation","pl.edu.wat.wcy.pz.restaurantServer.email.MailService","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.service.UserService","java.util.Collection","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.controller.RTableController":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.controller.RTableController","begin":1,"end":68,"isInterface":false,"annotations":["@AllArgsConstructor","@RestController","@CrossOrigin"],"variables":["RTableService rTableService","Optional\u003cRTable\u003e rTable","Optional\u003cRTable\u003e rTable"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"RTableService","variable":"rTableService","lineBegin":18,"lineEnd":18}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.service.RTableService","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"],"methods":{"addRTable":{"name":"addRTable","parametersDataType":["RTable"],"returnDataType":["void"]},"updateRTable":{"name":"updateRTable","parametersDataType":["Long","RTable"],"returnDataType":["void"]},"deleteRTable":{"name":"deleteRTable","parametersDataType":["Long"],"returnDataType":["void"]},"getRTableById":{"name":"getRTableById","parametersDataType":["Long"],"returnDataType":["RTable"]},"getRTableBills":{"name":"getRTableBills","parametersDataType":["Long"],"returnDataType":["Bill"]},"getRTableReservations":{"name":"getRTableReservations","parametersDataType":["Long"],"returnDataType":["Reservation"]},"getRTables":{"name":"getRTables","parametersDataType":[],"returnDataType":["RTable"]},"getCurrentBill":{"name":"getCurrentBill","parametersDataType":["Long"],"returnDataType":["Bill"]}},"myMethods":{"addRTable":{"name":"addRTable","lineBegin":49,"lineEnd":52,"annotations":["@PostMapping(\"/rTables\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"RTable","variable":"rTable","qualifedType":""}],"variables":[],"body":"{\n    rTableService.addRTable(rTable);\n}","methodInvocations":[{"scopeName":"rTableService","methodName":"addRTable","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"}]},"updateRTable":{"name":"updateRTable","lineBegin":54,"lineEnd":58,"annotations":["@PutMapping(\"/rTables/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"RTable","variable":"rTable","qualifedType":""}],"variables":[],"body":"{\n    rTableService.updateRTable(id, rTable);\n}","methodInvocations":[{"scopeName":"rTableService","methodName":"updateRTable","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"}]},"deleteRTable":{"name":"deleteRTable","lineBegin":60,"lineEnd":64,"annotations":["@DeleteMapping(\"/rTables/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cRTable\u003e","variable":"rTable","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}],"body":"{\n    Optional\u003cRTable\u003e rTable \u003d rTableService.getRTableById(id);\n    rTableService.deleteRTableById(id);\n}","methodInvocations":[{"scopeName":"rTableService","methodName":"getRTableById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"deleteRTableById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"}]},"getRTableById":{"name":"getRTableById","lineBegin":27,"lineEnd":31,"annotations":["@GetMapping(value \u003d \"/rTables/{id}\")"],"returnDataType":["RTable"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cRTable\u003e","variable":"rTable","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}],"body":"{\n    Optional\u003cRTable\u003e rTable \u003d rTableService.getRTableById(id);\n    return rTable.orElse(null);\n}","methodInvocations":[{"scopeName":"rTableService","methodName":"getRTableById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTable","methodName":"orElse","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}]},"getRTableBills":{"name":"getRTableBills","lineBegin":39,"lineEnd":42,"annotations":["@GetMapping(value \u003d \"/rTables/{id}/bills\")"],"returnDataType":["Collection\u003cBill\u003e"],"identifier":["Collection","Bill"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    return rTableService.getRTableBills(id);\n}","methodInvocations":[{"scopeName":"rTableService","methodName":"getRTableBills","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"}]},"getRTableReservations":{"name":"getRTableReservations","lineBegin":34,"lineEnd":37,"annotations":["@GetMapping(value \u003d \"/rTables/{id}/reservations\")"],"returnDataType":["Collection\u003cReservation\u003e"],"identifier":["Collection","Reservation"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    return rTableService.getRTableReservations(id);\n}","methodInvocations":[{"scopeName":"rTableService","methodName":"getRTableReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"}]},"getRTables":{"name":"getRTables","lineBegin":21,"lineEnd":24,"annotations":["@GetMapping(\"/rTables\")"],"returnDataType":["Collection\u003cRTable\u003e"],"identifier":["Collection","RTable"],"parametersDataType":[],"variables":[],"body":"{\n    return rTableService.getRTables();\n}","methodInvocations":[{"scopeName":"rTableService","methodName":"getRTables","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"}]},"getCurrentBill":{"name":"getCurrentBill","lineBegin":44,"lineEnd":47,"annotations":["@GetMapping(value \u003d \"/rTables/{id}/currentBill\")"],"returnDataType":["Bill"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    return rTableService.getCurrentBill(id);\n}","methodInvocations":[{"scopeName":"rTableService","methodName":"getCurrentBill","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"}]}},"methodInvocations":[{"scopeName":"rTableService","methodName":"getRTables","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"getRTableById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"getRTableReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"getRTableBills","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"getCurrentBill","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"addRTable","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"updateRTable","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"getRTableById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"},{"scopeName":"rTableService","methodName":"deleteRTableById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.RTableService"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.web.bind.annotation","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.service.RTableService","java.util.Collection","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","begin":1,"end":51,"isInterface":false,"annotations":["@AllArgsConstructor","@NoArgsConstructor","@Entity","@Builder"],"variables":["Long billPositionId","Dish dishId","Long billId"],"instance_variables":[{"annotations":["@Id","@GeneratedValue(strategy \u003d GenerationType.IDENTITY)","@Column(name \u003d \"BILL_POSITION_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"billPositionId","lineBegin":14,"lineEnd":17},{"annotations":["@ManyToOne","@JoinColumn(name \u003d \"DISH_ID\")"],"modifier":"private ","identifier":[],"type":"Dish","variable":"dishId","lineBegin":19,"lineEnd":21},{"annotations":["@Column(name \u003d \"BILL_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"billId","lineBegin":23,"lineEnd":24}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"],"methods":{"getDishId":{"name":"getDishId","parametersDataType":[],"returnDataType":["Dish"]},"getBillId":{"name":"getBillId","parametersDataType":[],"returnDataType":["Long"]},"setBillId":{"name":"setBillId","parametersDataType":["Long"],"returnDataType":["void"]},"setDishId":{"name":"setDishId","parametersDataType":["Dish"],"returnDataType":["void"]},"getBillPositionId":{"name":"getBillPositionId","parametersDataType":[],"returnDataType":["Long"]},"setBillPositionId":{"name":"setBillPositionId","parametersDataType":["Long"],"returnDataType":["void"]}},"myMethods":{"getDishId":{"name":"getDishId","lineBegin":34,"lineEnd":36,"annotations":[],"returnDataType":["Dish"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return dishId;\n}","methodInvocations":[]},"getBillId":{"name":"getBillId","lineBegin":42,"lineEnd":44,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return billId;\n}","methodInvocations":[]},"setBillId":{"name":"setBillId","lineBegin":46,"lineEnd":48,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"billId","qualifedType":""}],"variables":[],"body":"{\n    this.billId \u003d billId;\n}","methodInvocations":[]},"setDishId":{"name":"setDishId","lineBegin":38,"lineEnd":40,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Dish","variable":"dishId","qualifedType":""}],"variables":[],"body":"{\n    this.dishId \u003d dishId;\n}","methodInvocations":[]},"getBillPositionId":{"name":"getBillPositionId","lineBegin":26,"lineEnd":28,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return billPositionId;\n}","methodInvocations":[]},"setBillPositionId":{"name":"setBillPositionId","lineBegin":30,"lineEnd":32,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"billPositionId","qualifedType":""}],"variables":[],"body":"{\n    this.billPositionId \u003d billPositionId;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","lombok.Builder","lombok.NoArgsConstructor","javax.persistence"]},"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","begin":1,"end":95,"isInterface":false,"annotations":["@AllArgsConstructor","@NoArgsConstructor","@Entity","@Builder"],"variables":["Long rTableId","int number","int size","String status","List\u003cReservation\u003e reservations","List\u003cBill\u003e bills"],"instance_variables":[{"annotations":["@Id","@GeneratedValue(strategy \u003d GenerationType.IDENTITY)","@Column(name \u003d \"RTABLE_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"rTableId","lineBegin":16,"lineEnd":19},{"annotations":["@NaturalId","@Column(name \u003d \"NUMBER\")"],"modifier":"private ","identifier":[],"type":"int","variable":"number","lineBegin":20,"lineEnd":22},{"annotations":["@Column(name \u003d \"SIZE\")"],"modifier":"private ","identifier":[],"type":"int","variable":"size","lineBegin":23,"lineEnd":24},{"annotations":["@Column(name \u003d \"STATUS\")"],"modifier":"private ","identifier":[],"type":"String","variable":"status","lineBegin":25,"lineEnd":26},{"annotations":["@OneToMany(orphanRemoval \u003d true, cascade \u003d CascadeType.ALL, fetch \u003d FetchType.LAZY, mappedBy \u003d \"rTableId\")"],"modifier":"private ","identifier":["List","Reservation"],"type":"List\u003cReservation\u003e","variable":"reservations","lineBegin":29,"lineEnd":30},{"annotations":["@OneToMany(orphanRemoval \u003d true, cascade \u003d CascadeType.ALL, fetch \u003d FetchType.LAZY, mappedBy \u003d \"rTableId\")"],"modifier":"private ","identifier":["List","Bill"],"type":"List\u003cBill\u003e","variable":"bills","lineBegin":32,"lineEnd":33}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation"],"methods":{"getBills":{"name":"getBills","parametersDataType":[],"returnDataType":["Bill"]},"getRTableId":{"name":"getRTableId","parametersDataType":[],"returnDataType":["Long"]},"setReservations":{"name":"setReservations","parametersDataType":["Reservation"],"returnDataType":["void"]},"setBills":{"name":"setBills","parametersDataType":["Bill"],"returnDataType":["void"]},"addBill":{"name":"addBill","parametersDataType":["Bill"],"returnDataType":["void"]},"getStatus":{"name":"getStatus","parametersDataType":[],"returnDataType":["String"]},"setNumber":{"name":"setNumber","parametersDataType":["int"],"returnDataType":["void"]},"setStatus":{"name":"setStatus","parametersDataType":["String"],"returnDataType":["void"]},"getNumber":{"name":"getNumber","parametersDataType":[],"returnDataType":["int"]},"getSize":{"name":"getSize","parametersDataType":[],"returnDataType":["int"]},"setSize":{"name":"setSize","parametersDataType":["int"],"returnDataType":["void"]},"setRTableId":{"name":"setRTableId","parametersDataType":["Long"],"returnDataType":["void"]},"getReservations":{"name":"getReservations","parametersDataType":[],"returnDataType":["Reservation"]}},"myMethods":{"getBills":{"name":"getBills","lineBegin":82,"lineEnd":84,"annotations":[],"returnDataType":["List\u003cBill\u003e"],"identifier":["List","Bill"],"parametersDataType":[],"variables":[],"body":"{\n    return bills;\n}","methodInvocations":[]},"getRTableId":{"name":"getRTableId","lineBegin":42,"lineEnd":44,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return rTableId;\n}","methodInvocations":[]},"setReservations":{"name":"setReservations","lineBegin":78,"lineEnd":80,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"List\u003cReservation\u003e","variable":"reservations","qualifedType":""}],"variables":[],"body":"{\n    this.reservations \u003d reservations;\n}","methodInvocations":[]},"setBills":{"name":"setBills","lineBegin":86,"lineEnd":88,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"List\u003cBill\u003e","variable":"bills","qualifedType":""}],"variables":[],"body":"{\n    this.bills \u003d bills;\n}","methodInvocations":[]},"addBill":{"name":"addBill","lineBegin":90,"lineEnd":92,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Bill","variable":"bill","qualifedType":""}],"variables":[],"body":"{\n    this.bills.add(bill);\n}","methodInvocations":[]},"getStatus":{"name":"getStatus","lineBegin":66,"lineEnd":68,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return status;\n}","methodInvocations":[]},"setNumber":{"name":"setNumber","lineBegin":54,"lineEnd":56,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"int","variable":"number","qualifedType":""}],"variables":[],"body":"{\n    this.number \u003d number;\n}","methodInvocations":[]},"setStatus":{"name":"setStatus","lineBegin":70,"lineEnd":72,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"status","qualifedType":""}],"variables":[],"body":"{\n    this.status \u003d status;\n}","methodInvocations":[]},"getNumber":{"name":"getNumber","lineBegin":50,"lineEnd":52,"annotations":[],"returnDataType":["int"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return number;\n}","methodInvocations":[]},"getSize":{"name":"getSize","lineBegin":58,"lineEnd":60,"annotations":[],"returnDataType":["int"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return size;\n}","methodInvocations":[]},"setSize":{"name":"setSize","lineBegin":62,"lineEnd":64,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"int","variable":"size","qualifedType":""}],"variables":[],"body":"{\n    this.size \u003d size;\n}","methodInvocations":[]},"setRTableId":{"name":"setRTableId","lineBegin":46,"lineEnd":48,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"rTableId","qualifedType":""}],"variables":[],"body":"{\n    this.rTableId \u003d rTableId;\n}","methodInvocations":[]},"getReservations":{"name":"getReservations","lineBegin":74,"lineEnd":76,"annotations":[],"returnDataType":["List\u003cReservation\u003e"],"identifier":["List","Reservation"],"parametersDataType":[],"variables":[],"body":"{\n    return reservations;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","lombok.Builder","lombok.NoArgsConstructor","org.hibernate.annotations.NaturalId","javax.persistence","java.util.List"]},"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","begin":1,"end":18,"isInterface":true,"annotations":["@Transactional","@Repository"],"variables":[],"instance_variables":[],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"],"methods":{"findAllBySize":{"name":"findAllBySize","parametersDataType":["int"],"returnDataType":["RTable"]},"existsBySize":{"name":"existsBySize","parametersDataType":["int"],"returnDataType":["boolean"]},"existsByNumber":{"name":"existsByNumber","parametersDataType":["int"],"returnDataType":["boolean"]}},"myMethods":{"findAllBySize":{"name":"findAllBySize","lineBegin":17,"lineEnd":17,"annotations":[],"returnDataType":["List\u003cRTable\u003e"],"identifier":["List","RTable"],"parametersDataType":[{"type":"int","variable":"size","qualifedType":""}],"variables":[],"body":"","methodInvocations":[]},"existsBySize":{"name":"existsBySize","lineBegin":15,"lineEnd":15,"annotations":[],"returnDataType":["boolean"],"identifier":[],"parametersDataType":[{"type":"int","variable":"size","qualifedType":""}],"variables":[],"body":"","methodInvocations":[]},"existsByNumber":{"name":"existsByNumber","lineBegin":13,"lineEnd":13,"annotations":[],"returnDataType":["boolean"],"identifier":[],"parametersDataType":[{"type":"int","variable":"number","qualifedType":""}],"variables":[],"body":"","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":["JpaRepository\u003cRTable, Long\u003e"],"imports":["org.springframework.data.jpa.repository.JpaRepository","org.springframework.stereotype.Repository","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","javax.transaction.Transactional","java.util.List"]},"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RoleRepository","begin":1,"end":11,"isInterface":true,"annotations":["@Repository"],"variables":[],"instance_variables":[],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.Role"],"methods":{"findByRoleName":{"name":"findByRoleName","parametersDataType":["String"],"returnDataType":["Role"]}},"myMethods":{"findByRoleName":{"name":"findByRoleName","lineBegin":10,"lineEnd":10,"annotations":[],"returnDataType":["Optional\u003cRole\u003e"],"identifier":["Optional","Role"],"parametersDataType":[{"type":"String","variable":"roleName","qualifedType":""}],"variables":[],"body":"","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":["JpaRepository\u003cRole, Long\u003e"],"imports":["org.springframework.data.jpa.repository.JpaRepository","org.springframework.stereotype.Repository","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository","begin":1,"end":13,"isInterface":true,"annotations":["@Transactional","@Repository"],"variables":[],"instance_variables":[],"dependencies":[],"methods":{},"myMethods":{},"methodInvocations":[],"implementedTypes":[],"extendedTypes":["JpaRepository\u003cBill, Long\u003e"],"imports":["org.springframework.data.jpa.repository.JpaRepository","org.springframework.stereotype.Repository","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","javax.transaction.Transactional"]},"pl.edu.wat.wcy.pz.restaurantServer.form.LoginForm":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.form.LoginForm","begin":1,"end":25,"isInterface":false,"annotations":["@Getter"],"variables":["String mail","String password"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"mail","lineBegin":7,"lineEnd":7},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"password","lineBegin":8,"lineEnd":8}],"dependencies":[],"methods":{"setPassword":{"name":"setPassword","parametersDataType":["String"],"returnDataType":["void"]},"getPassword":{"name":"getPassword","parametersDataType":[],"returnDataType":["String"]},"setMail":{"name":"setMail","parametersDataType":["String"],"returnDataType":["void"]},"getMail":{"name":"getMail","parametersDataType":[],"returnDataType":["String"]}},"myMethods":{"setPassword":{"name":"setPassword","lineBegin":22,"lineEnd":24,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"password","qualifedType":""}],"variables":[],"body":"{\n    this.password \u003d password;\n}","methodInvocations":[]},"getPassword":{"name":"getPassword","lineBegin":18,"lineEnd":20,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return password;\n}","methodInvocations":[]},"setMail":{"name":"setMail","lineBegin":14,"lineEnd":16,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"mail","qualifedType":""}],"variables":[],"body":"{\n    this.mail \u003d mail;\n}","methodInvocations":[]},"getMail":{"name":"getMail","lineBegin":10,"lineEnd":12,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return mail;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.Getter"]},"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository","begin":1,"end":17,"isInterface":true,"annotations":["@Transactional","@Repository"],"variables":[],"instance_variables":[],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.User"],"methods":{"existsByMail":{"name":"existsByMail","parametersDataType":["String"],"returnDataType":["Boolean"]},"findByMail":{"name":"findByMail","parametersDataType":["String"],"returnDataType":["User"]}},"myMethods":{"existsByMail":{"name":"existsByMail","lineBegin":13,"lineEnd":13,"annotations":[],"returnDataType":["Boolean"],"identifier":[],"parametersDataType":[{"type":"String","variable":"mail","qualifedType":""}],"variables":[],"body":"","methodInvocations":[]},"findByMail":{"name":"findByMail","lineBegin":15,"lineEnd":15,"annotations":[],"returnDataType":["Optional\u003cUser\u003e"],"identifier":["Optional","User"],"parametersDataType":[{"type":"String","variable":"mail","qualifedType":""}],"variables":[],"body":"","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":["JpaRepository\u003cUser, Long\u003e"],"imports":["org.springframework.data.jpa.repository.JpaRepository","org.springframework.stereotype.Repository","pl.edu.wat.wcy.pz.restaurantServer.entity.User","javax.transaction.Transactional","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.entity.Role":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Role","begin":1,"end":40,"isInterface":false,"annotations":["@NoArgsConstructor","@Entity"],"variables":["Long roleId","String roleName"],"instance_variables":[{"annotations":["@Id","@GeneratedValue(strategy \u003d GenerationType.IDENTITY)","@Column(name \u003d \"ROLE_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"roleId","lineBegin":12,"lineEnd":15},{"annotations":["@Column(name \u003d \"ROLE_NAME\")"],"modifier":"private ","identifier":[],"type":"String","variable":"roleName","lineBegin":17,"lineEnd":18}],"dependencies":[],"methods":{"setRoleId":{"name":"setRoleId","parametersDataType":["Long"],"returnDataType":["void"]},"getRoleName":{"name":"getRoleName","parametersDataType":[],"returnDataType":["String"]},"setRoleName":{"name":"setRoleName","parametersDataType":["String"],"returnDataType":["void"]},"getRoleId":{"name":"getRoleId","parametersDataType":[],"returnDataType":["Long"]}},"myMethods":{"setRoleId":{"name":"setRoleId","lineBegin":29,"lineEnd":31,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"roleId","qualifedType":""}],"variables":[],"body":"{\n    this.roleId \u003d roleId;\n}","methodInvocations":[]},"getRoleName":{"name":"getRoleName","lineBegin":33,"lineEnd":35,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return roleName;\n}","methodInvocations":[]},"setRoleName":{"name":"setRoleName","lineBegin":37,"lineEnd":39,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"roleName","qualifedType":""}],"variables":[],"body":"{\n    this.roleName \u003d roleName;\n}","methodInvocations":[]},"getRoleId":{"name":"getRoleId","lineBegin":25,"lineEnd":27,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return roleId;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","lombok.NoArgsConstructor","javax.persistence"]},"pl.edu.wat.wcy.pz.restaurantServer.service.BillService":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService","begin":1,"end":86,"isInterface":false,"annotations":["@AllArgsConstructor","@Service"],"variables":["BillRepository billRepository","RTableRepository rTableRepository","Optional\u003cBill\u003e bill","Optional\u003cRTable\u003e rTable","Optional\u003cBill\u003e oldBill","Optional\u003cBill\u003e bill"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"BillRepository","variable":"billRepository","lineBegin":21,"lineEnd":21},{"annotations":[],"modifier":"private ","identifier":[],"type":"RTableRepository","variable":"rTableRepository","lineBegin":22,"lineEnd":22}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition"],"methods":{"getBills":{"name":"getBills","parametersDataType":[],"returnDataType":["Bill"]},"updateBill":{"name":"updateBill","parametersDataType":["Long","Bill"],"returnDataType":["void"]},"deleteBillById":{"name":"deleteBillById","parametersDataType":["Long"],"returnDataType":["void"]},"getBillById":{"name":"getBillById","parametersDataType":["Long"],"returnDataType":["Bill"]},"addBill":{"name":"addBill","parametersDataType":["Bill"],"returnDataType":["void"]},"getBillBillPositions":{"name":"getBillBillPositions","parametersDataType":["Long"],"returnDataType":["BillPosition"]}},"myMethods":{"getBills":{"name":"getBills","lineBegin":24,"lineEnd":26,"annotations":[],"returnDataType":["List\u003cBill\u003e"],"identifier":["List","Bill"],"parametersDataType":[],"variables":[],"body":"{\n    return billRepository.findAll();\n}","methodInvocations":[{"scopeName":"billRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"}]},"updateBill":{"name":"updateBill","lineBegin":60,"lineEnd":71,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"Bill","variable":"bill","qualifedType":""}],"variables":[{"type":"Optional\u003cBill\u003e","variable":"oldBill","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}],"body":"{\n    Optional\u003cBill\u003e oldBill \u003d billRepository.findById(id);\n    if (!oldBill.isPresent())\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Bill not found.\");\n    else {\n        bill.setBillId(id);\n        billRepository.save(bill);\n    }\n}","methodInvocations":[{"scopeName":"billRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"oldBill","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill","methodName":"setBillId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"billRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"}]},"deleteBillById":{"name":"deleteBillById","lineBegin":73,"lineEnd":80,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    if (billRepository.findById(id).isPresent()) {\n        billRepository.deleteById(id);\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Bill not found.\");\n    }\n}","methodInvocations":[{"scopeName":"billRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"billRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"}]},"getBillById":{"name":"getBillById","lineBegin":29,"lineEnd":37,"annotations":[],"returnDataType":["Optional\u003cBill\u003e"],"identifier":["Optional","Bill"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cBill\u003e","variable":"bill","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}],"body":"{\n    Optional\u003cBill\u003e bill \u003d billRepository.findById(id);\n    if (bill.isPresent()) {\n        return bill;\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Bill not found.\");\n    }\n}","methodInvocations":[{"scopeName":"billRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"bill","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}]},"addBill":{"name":"addBill","lineBegin":40,"lineEnd":57,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Bill","variable":"bill","qualifedType":""}],"variables":[{"type":"Optional\u003cRTable\u003e","variable":"rTable","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"}],"body":"{\n    Optional\u003cRTable\u003e rTable \u003d rTableRepository.findById(bill.getRTableId());\n    if (rTable.isPresent()) {\n        if (rTable.get().getStatus().equals(\"BUSY\")) {\n            throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"This table is already being served.\");\n        } else {\n            bill.setValue(0);\n            bill.setStatus(\"IN_PROGRESS\");\n            bill.setCreationDate(new Date());\n            rTable.get().setStatus(\"BUSY\");\n            billRepository.save(bill);\n        }\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Table not found.\");\n    }\n}","methodInvocations":[{"scopeName":"bill","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"rTable","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTable","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTable.get()","methodName":"getStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTable.get().getStatus()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"bill","methodName":"setValue","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill","methodName":"setStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill","methodName":"setCreationDate","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"rTable","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"rTable.get()","methodName":"setStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.RTable"},{"scopeName":"billRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"}]},"getBillBillPositions":{"name":"getBillBillPositions","lineBegin":82,"lineEnd":85,"annotations":[],"returnDataType":["List\u003cBillPosition\u003e"],"identifier":["List","BillPosition"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cBill\u003e","variable":"bill","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}],"body":"{\n    Optional\u003cBill\u003e bill \u003d getBillById(id);\n    return bill.get().getBillPositions();\n}","methodInvocations":[{"scopeName":"bill","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill.get()","methodName":"getBillPositions","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}]}},"methodInvocations":[{"scopeName":"billRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"billRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"bill","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"bill","methodName":"setValue","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill","methodName":"setStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill","methodName":"setCreationDate","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"billRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"billRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"bill","methodName":"setBillId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"billRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"billRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"},{"scopeName":"billRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.http.HttpStatus","org.springframework.stereotype.Service","org.springframework.web.server.ResponseStatusException","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.RTable","pl.edu.wat.wcy.pz.restaurantServer.repository.BillRepository","pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","java.util.Date","java.util.List","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtAuthEntryPoint":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtAuthEntryPoint","begin":1,"end":23,"isInterface":false,"annotations":["@Component"],"variables":["Logger LOGGER"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"Logger","variable":"LOGGER","lineBegin":16,"lineEnd":16}],"dependencies":[],"methods":{"commence":{"name":"commence","parametersDataType":["HttpServletRequest","HttpServletResponse","AuthenticationException"],"returnDataType":["void"]}},"myMethods":{"commence":{"name":"commence","lineBegin":18,"lineEnd":22,"annotations":["@Override"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"HttpServletRequest","variable":"httpServletRequest","qualifedType":""},{"type":"HttpServletResponse","variable":"httpServletResponse","qualifedType":""},{"type":"AuthenticationException","variable":"e","qualifedType":""}],"variables":[],"body":"{\n    LOGGER.error(\"Invalid login data.\", e.getMessage());\n    httpServletResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, \"Invalid login data.\");\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":["AuthenticationEntryPoint"],"extendedTypes":[],"imports":["org.slf4j.Logger","org.slf4j.LoggerFactory","org.springframework.security.core.AuthenticationException","org.springframework.security.web.AuthenticationEntryPoint","org.springframework.stereotype.Component","javax.servlet.http.HttpServletRequest","javax.servlet.http.HttpServletResponse","java.io.IOException"]},"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","begin":1,"end":75,"isInterface":false,"annotations":["@AllArgsConstructor","@NoArgsConstructor","@Entity","@Builder"],"variables":["Long dishId","String englishName","String polishName","double price","String image"],"instance_variables":[{"annotations":["@Id","@GeneratedValue(strategy \u003d GenerationType.IDENTITY)","@Column(name \u003d \"DISH_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"dishId","lineBegin":15,"lineEnd":18},{"annotations":["@Column(name \u003d \"ENGLISH_NAME\", length \u003d 50)"],"modifier":"private ","identifier":[],"type":"String","variable":"englishName","lineBegin":19,"lineEnd":20},{"annotations":["@Column(name \u003d \"POLISH_NAME\", length \u003d 50)"],"modifier":"private ","identifier":[],"type":"String","variable":"polishName","lineBegin":21,"lineEnd":22},{"annotations":["@Column(name \u003d \"PRICE\")"],"modifier":"private ","identifier":[],"type":"double","variable":"price","lineBegin":23,"lineEnd":24},{"annotations":["@Column(name \u003d \"IMAGE\")","@Type(type \u003d \"text\")"],"modifier":"private ","identifier":[],"type":"String","variable":"image","lineBegin":25,"lineEnd":27}],"dependencies":[],"methods":{"getDishId":{"name":"getDishId","parametersDataType":[],"returnDataType":["Long"]},"getEnglishName":{"name":"getEnglishName","parametersDataType":[],"returnDataType":["String"]},"getPolishName":{"name":"getPolishName","parametersDataType":[],"returnDataType":["String"]},"setPolishName":{"name":"setPolishName","parametersDataType":["String"],"returnDataType":["void"]},"setDishId":{"name":"setDishId","parametersDataType":["Long"],"returnDataType":["void"]},"setPrice":{"name":"setPrice","parametersDataType":["double"],"returnDataType":["void"]},"getImage":{"name":"getImage","parametersDataType":[],"returnDataType":["String"]},"getPrice":{"name":"getPrice","parametersDataType":[],"returnDataType":["double"]},"setEnglishName":{"name":"setEnglishName","parametersDataType":["String"],"returnDataType":["void"]},"setImage":{"name":"setImage","parametersDataType":["String"],"returnDataType":["void"]}},"myMethods":{"getDishId":{"name":"getDishId","lineBegin":36,"lineEnd":38,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return dishId;\n}","methodInvocations":[]},"getEnglishName":{"name":"getEnglishName","lineBegin":44,"lineEnd":46,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return englishName;\n}","methodInvocations":[]},"getPolishName":{"name":"getPolishName","lineBegin":52,"lineEnd":54,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return polishName;\n}","methodInvocations":[]},"setPolishName":{"name":"setPolishName","lineBegin":56,"lineEnd":58,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"polishName","qualifedType":""}],"variables":[],"body":"{\n    this.polishName \u003d polishName;\n}","methodInvocations":[]},"setDishId":{"name":"setDishId","lineBegin":40,"lineEnd":42,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"dishId","qualifedType":""}],"variables":[],"body":"{\n    this.dishId \u003d dishId;\n}","methodInvocations":[]},"setPrice":{"name":"setPrice","lineBegin":64,"lineEnd":66,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"double","variable":"price","qualifedType":""}],"variables":[],"body":"{\n    this.price \u003d price;\n}","methodInvocations":[]},"getImage":{"name":"getImage","lineBegin":68,"lineEnd":70,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return image;\n}","methodInvocations":[]},"getPrice":{"name":"getPrice","lineBegin":60,"lineEnd":62,"annotations":[],"returnDataType":["double"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return this.price;\n}","methodInvocations":[]},"setEnglishName":{"name":"setEnglishName","lineBegin":48,"lineEnd":50,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"englishName","qualifedType":""}],"variables":[],"body":"{\n    this.englishName \u003d englishName;\n}","methodInvocations":[]},"setImage":{"name":"setImage","lineBegin":72,"lineEnd":74,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"image","qualifedType":""}],"variables":[],"body":"{\n    this.image \u003d image;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","lombok.Builder","lombok.NoArgsConstructor","org.hibernate.annotations.Type","javax.persistence"]},"pl.edu.wat.wcy.pz.restaurantServer.controller.BillController":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.controller.BillController","begin":1,"end":61,"isInterface":false,"annotations":["@AllArgsConstructor","@RestController","@CrossOrigin"],"variables":["BillService billService","RTableRepository rTableRepository","Optional\u003cBill\u003e bill","Optional\u003cBill\u003e bill"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"BillService","variable":"billService","lineBegin":18,"lineEnd":18},{"annotations":[],"modifier":"private ","identifier":[],"type":"RTableRepository","variable":"rTableRepository","lineBegin":19,"lineEnd":19}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.service.BillService","pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"],"methods":{"getBills":{"name":"getBills","parametersDataType":[],"returnDataType":["Bill"]},"updateBill":{"name":"updateBill","parametersDataType":["Long","Bill"],"returnDataType":["void"]},"getBillById":{"name":"getBillById","parametersDataType":["Long"],"returnDataType":["Bill"]},"deleteBill":{"name":"deleteBill","parametersDataType":["Long"],"returnDataType":["void"]},"getBillBillPositions":{"name":"getBillBillPositions","parametersDataType":["Long"],"returnDataType":["BillPosition"]},"addBill":{"name":"addBill","parametersDataType":["Bill"],"returnDataType":["void"]}},"myMethods":{"getBills":{"name":"getBills","lineBegin":22,"lineEnd":25,"annotations":["@GetMapping(\"/bills\")"],"returnDataType":["Collection\u003cBill\u003e"],"identifier":["Collection","Bill"],"parametersDataType":[],"variables":[],"body":"{\n    return billService.getBills();\n}","methodInvocations":[{"scopeName":"billService","methodName":"getBills","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"}]},"updateBill":{"name":"updateBill","lineBegin":44,"lineEnd":51,"annotations":["@PutMapping(\"/bills/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"Bill","variable":"bill","qualifedType":""}],"variables":[],"body":"{\n    if (bill.getStatus().equals(\"PAID\")) {\n        rTableRepository.findById(bill.getRTableId()).get().setStatus(\"FREE\");\n    }\n    billService.updateBill(id, bill);\n}","methodInvocations":[{"scopeName":"bill","methodName":"getStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill.getStatus()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"billService","methodName":"updateBill","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"}]},"getBillById":{"name":"getBillById","lineBegin":28,"lineEnd":32,"annotations":["@GetMapping(value \u003d \"/bills/{id}\")"],"returnDataType":["Bill"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cBill\u003e","variable":"bill","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}],"body":"{\n    Optional\u003cBill\u003e bill \u003d billService.getBillById(id);\n    return bill.orElse(null);\n}","methodInvocations":[{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"bill","methodName":"orElse","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}]},"deleteBill":{"name":"deleteBill","lineBegin":53,"lineEnd":57,"annotations":["@DeleteMapping(\"/bills/{id}\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cBill\u003e","variable":"bill","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"}],"body":"{\n    Optional\u003cBill\u003e bill \u003d billService.getBillById(id);\n    billService.deleteBillById(id);\n}","methodInvocations":[{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billService","methodName":"deleteBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"}]},"getBillBillPositions":{"name":"getBillBillPositions","lineBegin":34,"lineEnd":37,"annotations":["@GetMapping(value \u003d \"/bills/{id}/billPositions\")"],"returnDataType":["Collection\u003cBillPosition\u003e"],"identifier":["Collection","BillPosition"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    return billService.getBillBillPositions(id);\n}","methodInvocations":[{"scopeName":"billService","methodName":"getBillBillPositions","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"}]},"addBill":{"name":"addBill","lineBegin":39,"lineEnd":42,"annotations":["@PostMapping(\"/bills\")"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Bill","variable":"bill","qualifedType":""}],"variables":[],"body":"{\n    billService.addBill(bill);\n}","methodInvocations":[{"scopeName":"billService","methodName":"addBill","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"}]}},"methodInvocations":[{"scopeName":"billService","methodName":"getBills","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billService","methodName":"getBillBillPositions","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billService","methodName":"addBill","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"bill","methodName":"getStatus","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill.getStatus()","methodName":"equals","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"bill","methodName":"getRTableId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Bill"},{"scopeName":"rTableRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository"},{"scopeName":"billService","methodName":"updateBill","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billService","methodName":"getBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"},{"scopeName":"billService","methodName":"deleteBillById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.service.BillService"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.web.bind.annotation","pl.edu.wat.wcy.pz.restaurantServer.entity.Bill","pl.edu.wat.wcy.pz.restaurantServer.entity.BillPosition","pl.edu.wat.wcy.pz.restaurantServer.repository.RTableRepository","pl.edu.wat.wcy.pz.restaurantServer.service.BillService","java.util.Collection","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.service.UserService":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.service.UserService","begin":1,"end":76,"isInterface":false,"annotations":["@AllArgsConstructor","@Service"],"variables":["UserRepository userRepository","PasswordEncoder encoder","Optional\u003cUser\u003e user","List\u003cUser\u003e userList","String password","Optional\u003cUser\u003e oldUser","Optional\u003cUser\u003e user"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"UserRepository","variable":"userRepository","lineBegin":19,"lineEnd":19},{"annotations":[],"modifier":"private ","identifier":[],"type":"PasswordEncoder","variable":"encoder","lineBegin":20,"lineEnd":20}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.entity.User"],"methods":{"getUserById":{"name":"getUserById","parametersDataType":["Long"],"returnDataType":["User"]},"getUserReservations":{"name":"getUserReservations","parametersDataType":["Long"],"returnDataType":["Reservation"]},"getUsers":{"name":"getUsers","parametersDataType":[],"returnDataType":["User"]},"addUser":{"name":"addUser","parametersDataType":["User"],"returnDataType":["void"]},"updateUser":{"name":"updateUser","parametersDataType":["Long","User"],"returnDataType":["void"]},"deleteUserById":{"name":"deleteUserById","parametersDataType":["Long"],"returnDataType":["void"]}},"myMethods":{"getUserById":{"name":"getUserById","lineBegin":26,"lineEnd":34,"annotations":[],"returnDataType":["Optional\u003cUser\u003e"],"identifier":["Optional","User"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cUser\u003e","variable":"user","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}],"body":"{\n    Optional\u003cUser\u003e user \u003d userRepository.findById(id);\n    if (user.isPresent()) {\n        return user;\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"User not found.\");\n    }\n}","methodInvocations":[{"scopeName":"userRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"user","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}]},"getUserReservations":{"name":"getUserReservations","lineBegin":71,"lineEnd":74,"annotations":[],"returnDataType":["List\u003cReservation\u003e"],"identifier":["List","Reservation"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cUser\u003e","variable":"user","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}],"body":"{\n    Optional\u003cUser\u003e user \u003d getUserById(id);\n    return user.get().getReservations();\n}","methodInvocations":[{"scopeName":"user","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user.get()","methodName":"getReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}]},"getUsers":{"name":"getUsers","lineBegin":22,"lineEnd":24,"annotations":[],"returnDataType":["List\u003cUser\u003e"],"identifier":["List","User"],"parametersDataType":[],"variables":[],"body":"{\n    return userRepository.findAll();\n}","methodInvocations":[{"scopeName":"userRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"}]},"addUser":{"name":"addUser","lineBegin":36,"lineEnd":47,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"User","variable":"user","qualifedType":""}],"variables":[{"type":"List\u003cUser\u003e","variable":"userList","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"type":"String","variable":"password","qualifedType":""}],"body":"{\n    List\u003cUser\u003e userList \u003d userRepository.findAll();\n    if (userList.stream().map(User::getMail).anyMatch(user.getMail()::equals)) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"User with this email already exists.\");\n    } else {\n        String password \u003d encoder.encode(user.getPassword());\n        user.setPassword(password);\n        userRepository.save(user);\n    }\n}","methodInvocations":[{"scopeName":"userRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"userList","methodName":"stream","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"userList.stream()","methodName":"map","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"setPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"}]},"updateUser":{"name":"updateUser","lineBegin":49,"lineEnd":60,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"User","variable":"user","qualifedType":""}],"variables":[{"type":"Optional\u003cUser\u003e","variable":"oldUser","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}],"body":"{\n    Optional\u003cUser\u003e oldUser \u003d userRepository.findById(id);\n    if (!oldUser.isPresent())\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"User not found.\");\n    else {\n        user.setUserId(id);\n        userRepository.save(user);\n    }\n}","methodInvocations":[{"scopeName":"userRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"oldUser","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"setUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"}]},"deleteUserById":{"name":"deleteUserById","lineBegin":62,"lineEnd":69,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    if (userRepository.findById(id).isPresent()) {\n        userRepository.deleteById(id);\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"User not found.\");\n    }\n}","methodInvocations":[{"scopeName":"userRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"userRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"}]}},"methodInvocations":[{"scopeName":"userRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"userRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"userRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"setPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"userRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"user","methodName":"setUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"userRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"userRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"},{"scopeName":"userRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.http.HttpStatus","org.springframework.security.crypto.password.PasswordEncoder","org.springframework.stereotype.Service","org.springframework.web.server.ResponseStatusException","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.User","pl.edu.wat.wcy.pz.restaurantServer.repository.UserRepository","java.util.List","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.service.DishService":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.service.DishService","begin":1,"end":82,"isInterface":false,"annotations":["@AllArgsConstructor","@Service"],"variables":["DishRepository dishRepository","List\u003cDish\u003e dishes","List\u003cDish\u003e returnDishes","Dish temp","int i","Optional\u003cDish\u003e dish","List\u003cDish\u003e dishList","Optional\u003cDish\u003e oldDish"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"DishRepository","variable":"dishRepository","lineBegin":18,"lineEnd":18}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"],"methods":{"getDishById":{"name":"getDishById","parametersDataType":["Long"],"returnDataType":["Dish"]},"updateDish":{"name":"updateDish","parametersDataType":["Long","Dish"],"returnDataType":["void"]},"getDishes":{"name":"getDishes","parametersDataType":[],"returnDataType":["Dish"]},"addDish":{"name":"addDish","parametersDataType":["Dish"],"returnDataType":["void"]},"deleteDishById":{"name":"deleteDishById","parametersDataType":["Long"],"returnDataType":["void"]},"findDishes":{"name":"findDishes","parametersDataType":["String"],"returnDataType":["Dish"]}},"myMethods":{"getDishById":{"name":"getDishById","lineBegin":38,"lineEnd":46,"annotations":[],"returnDataType":["Optional\u003cDish\u003e"],"identifier":["Optional","Dish"],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[{"type":"Optional\u003cDish\u003e","variable":"dish","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"}],"body":"{\n    Optional\u003cDish\u003e dish \u003d dishRepository.findById(id);\n    if (dish.isPresent()) {\n        return dish;\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Dish not found.\");\n    }\n}","methodInvocations":[{"scopeName":"dishRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dish","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"}]},"updateDish":{"name":"updateDish","lineBegin":59,"lineEnd":70,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""},{"type":"Dish","variable":"dish","qualifedType":""}],"variables":[{"type":"Optional\u003cDish\u003e","variable":"oldDish","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"}],"body":"{\n    Optional\u003cDish\u003e oldDish \u003d dishRepository.findById(id);\n    if (!oldDish.isPresent())\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Dish not found.\");\n    else {\n        dish.setDishId(id);\n        dishRepository.save(dish);\n    }\n}","methodInvocations":[{"scopeName":"dishRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"oldDish","methodName":"isPresent","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dish","methodName":"setDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"}]},"getDishes":{"name":"getDishes","lineBegin":20,"lineEnd":22,"annotations":[],"returnDataType":["List\u003cDish\u003e"],"identifier":["List","Dish"],"parametersDataType":[],"variables":[],"body":"{\n    return dishRepository.findAll();\n}","methodInvocations":[{"scopeName":"dishRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"}]},"addDish":{"name":"addDish","lineBegin":48,"lineEnd":57,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Dish","variable":"dish","qualifedType":""}],"variables":[{"type":"List\u003cDish\u003e","variable":"dishList","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"}],"body":"{\n    List\u003cDish\u003e dishList \u003d dishRepository.findAll();\n    if (dishList.stream().map(Dish::getEnglishName).anyMatch(dish.getEnglishName()::equals) || dishList.stream().map(Dish::getPolishName).anyMatch(dish.getPolishName()::equals)) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN, \"Dish with this name already exists.\");\n    } else {\n        dishRepository.save(dish);\n    }\n}","methodInvocations":[{"scopeName":"dishRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dish","methodName":"getEnglishName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishList","methodName":"stream","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishList.stream()","methodName":"map","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dish","methodName":"getPolishName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishList","methodName":"stream","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishList.stream()","methodName":"map","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"}]},"deleteDishById":{"name":"deleteDishById","lineBegin":72,"lineEnd":79,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"id","qualifedType":""}],"variables":[],"body":"{\n    if (dishRepository.findById(id).isPresent()) {\n        dishRepository.deleteById(id);\n    } else {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Dish not found.\");\n    }\n}","methodInvocations":[{"scopeName":"dishRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"}]},"findDishes":{"name":"findDishes","lineBegin":24,"lineEnd":36,"annotations":[],"returnDataType":["List\u003cDish\u003e"],"identifier":["List","Dish"],"parametersDataType":[{"type":"String","variable":"term","qualifedType":""}],"variables":[{"type":"List\u003cDish\u003e","variable":"dishes","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"type":"List\u003cDish\u003e","variable":"returnDishes","qualifedType":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"type":"Dish","variable":"temp","qualifedType":""},{"type":"int","variable":"i","qualifedType":""}],"body":"{\n    term \u003d term.toLowerCase();\n    List\u003cDish\u003e dishes \u003d getDishes();\n    List\u003cDish\u003e returnDishes \u003d new ArrayList\u003c\u003e();\n    Dish temp;\n    for (int i \u003d 0; i \u003c dishes.size(); i++) {\n        temp \u003d dishes.get(i);\n        if (temp.getEnglishName().toLowerCase().contains(term)) {\n            returnDishes.add(temp);\n        }\n    }\n    return returnDishes;\n}","methodInvocations":[{"scopeName":"dishes","methodName":"get","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"temp","methodName":"getEnglishName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"temp.getEnglishName()","methodName":"toLowerCase","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"temp.getEnglishName().toLowerCase()","methodName":"contains","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"returnDishes","methodName":"add","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishes","methodName":"size","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"}]}},"methodInvocations":[{"scopeName":"dishRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"temp","methodName":"getEnglishName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"temp.getEnglishName()","methodName":"toLowerCase","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"temp.getEnglishName().toLowerCase()","methodName":"contains","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"findAll","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dish","methodName":"getEnglishName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dish","methodName":"getPolishName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dish","methodName":"setDishId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.Dish"},{"scopeName":"dishRepository","methodName":"save","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"findById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"},{"scopeName":"dishRepository","methodName":"deleteById","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","org.springframework.http.HttpStatus","org.springframework.stereotype.Service","org.springframework.web.server.ResponseStatusException","pl.edu.wat.wcy.pz.restaurantServer.entity.Dish","pl.edu.wat.wcy.pz.restaurantServer.repository.DishRepository","java.util.ArrayList","java.util.List","java.util.Optional"]},"pl.edu.wat.wcy.pz.restaurantServer.entity.User":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User","begin":1,"end":106,"isInterface":false,"annotations":["@AllArgsConstructor","@NoArgsConstructor","@Entity","@Builder"],"variables":["Long userId","String mail","String firstName","String lastName","String password","Set\u003cRole\u003e roles","List\u003cReservation\u003e reservations"],"instance_variables":[{"annotations":["@Id","@GeneratedValue(strategy \u003d GenerationType.IDENTITY)","@Column(name \u003d \"USER_ID\")"],"modifier":"private ","identifier":[],"type":"Long","variable":"userId","lineBegin":17,"lineEnd":20},{"annotations":["@NaturalId","@Column(name \u003d \"MAIL\", length \u003d 50)"],"modifier":"private ","identifier":[],"type":"String","variable":"mail","lineBegin":21,"lineEnd":23},{"annotations":["@Column(name \u003d \"FIRST_NAME\")"],"modifier":"private ","identifier":[],"type":"String","variable":"firstName","lineBegin":24,"lineEnd":25},{"annotations":["@Column(name \u003d \"LAST_NAME\")"],"modifier":"private ","identifier":[],"type":"String","variable":"lastName","lineBegin":26,"lineEnd":27},{"annotations":["@Column(name \u003d \"PASSWORD\")"],"modifier":"private ","identifier":[],"type":"String","variable":"password","lineBegin":28,"lineEnd":29},{"annotations":["@ManyToMany(fetch \u003d FetchType.EAGER)","@JoinTable(name \u003d \"USER_ROLES\", joinColumns \u003d @JoinColumn(name \u003d \"USER_ID\"), inverseJoinColumns \u003d @JoinColumn(name \u003d \"ROLE_ID\"))"],"modifier":"private ","identifier":["Set","Role"],"type":"Set\u003cRole\u003e","variable":"roles","lineBegin":31,"lineEnd":35},{"annotations":["@OneToMany(orphanRemoval \u003d true, cascade \u003d CascadeType.ALL, fetch \u003d FetchType.LAZY, mappedBy \u003d \"userId\")"],"modifier":"private ","identifier":["List","Reservation"],"type":"List\u003cReservation\u003e","variable":"reservations","lineBegin":37,"lineEnd":38}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Role"],"methods":{"setPassword":{"name":"setPassword","parametersDataType":["String"],"returnDataType":["void"]},"setReservations":{"name":"setReservations","parametersDataType":["Reservation"],"returnDataType":["void"]},"getLastName":{"name":"getLastName","parametersDataType":[],"returnDataType":["String"]},"getMail":{"name":"getMail","parametersDataType":[],"returnDataType":["String"]},"setLastName":{"name":"setLastName","parametersDataType":["String"],"returnDataType":["void"]},"getPassword":{"name":"getPassword","parametersDataType":[],"returnDataType":["String"]},"setMail":{"name":"setMail","parametersDataType":["String"],"returnDataType":["void"]},"setFirstName":{"name":"setFirstName","parametersDataType":["String"],"returnDataType":["void"]},"getReservations":{"name":"getReservations","parametersDataType":[],"returnDataType":["Reservation"]},"getFirstName":{"name":"getFirstName","parametersDataType":[],"returnDataType":["String"]},"setRoles":{"name":"setRoles","parametersDataType":["Role"],"returnDataType":["void"]},"getUserId":{"name":"getUserId","parametersDataType":[],"returnDataType":["Long"]},"setUserId":{"name":"setUserId","parametersDataType":["Long"],"returnDataType":["void"]},"getRoles":{"name":"getRoles","parametersDataType":[],"returnDataType":["Role"]}},"myMethods":{"setPassword":{"name":"setPassword","lineBegin":85,"lineEnd":87,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"password","qualifedType":""}],"variables":[],"body":"{\n    this.password \u003d password;\n}","methodInvocations":[]},"setReservations":{"name":"setReservations","lineBegin":101,"lineEnd":103,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"List\u003cReservation\u003e","variable":"reservations","qualifedType":""}],"variables":[],"body":"{\n    this.reservations \u003d reservations;\n}","methodInvocations":[]},"getLastName":{"name":"getLastName","lineBegin":73,"lineEnd":75,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return lastName;\n}","methodInvocations":[]},"getMail":{"name":"getMail","lineBegin":57,"lineEnd":59,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return mail;\n}","methodInvocations":[]},"setLastName":{"name":"setLastName","lineBegin":77,"lineEnd":79,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"lastName","qualifedType":""}],"variables":[],"body":"{\n    this.lastName \u003d lastName;\n}","methodInvocations":[]},"getPassword":{"name":"getPassword","lineBegin":81,"lineEnd":83,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return password;\n}","methodInvocations":[]},"setMail":{"name":"setMail","lineBegin":61,"lineEnd":63,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"mail","qualifedType":""}],"variables":[],"body":"{\n    this.mail \u003d mail;\n}","methodInvocations":[]},"setFirstName":{"name":"setFirstName","lineBegin":69,"lineEnd":71,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"firstName","qualifedType":""}],"variables":[],"body":"{\n    this.firstName \u003d firstName;\n}","methodInvocations":[]},"getReservations":{"name":"getReservations","lineBegin":97,"lineEnd":99,"annotations":[],"returnDataType":["List\u003cReservation\u003e"],"identifier":["List","Reservation"],"parametersDataType":[],"variables":[],"body":"{\n    return reservations;\n}","methodInvocations":[]},"getFirstName":{"name":"getFirstName","lineBegin":65,"lineEnd":67,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return firstName;\n}","methodInvocations":[]},"setRoles":{"name":"setRoles","lineBegin":93,"lineEnd":95,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Set\u003cRole\u003e","variable":"roles","qualifedType":""}],"variables":[],"body":"{\n    this.roles \u003d roles;\n}","methodInvocations":[]},"getUserId":{"name":"getUserId","lineBegin":49,"lineEnd":51,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return userId;\n}","methodInvocations":[]},"setUserId":{"name":"setUserId","lineBegin":53,"lineEnd":55,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"userId","qualifedType":""}],"variables":[],"body":"{\n    this.userId \u003d userId;\n}","methodInvocations":[]},"getRoles":{"name":"getRoles","lineBegin":89,"lineEnd":91,"annotations":[],"returnDataType":["Set\u003cRole\u003e"],"identifier":["Set","Role"],"parametersDataType":[],"variables":[],"body":"{\n    return roles;\n}","methodInvocations":[]}},"methodInvocations":[],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.AllArgsConstructor","lombok.Builder","lombok.NoArgsConstructor","org.hibernate.annotations.NaturalId","javax.persistence","java.util.List","java.util.Set"]},"pl.edu.wat.wcy.pz.restaurantServer.form.response.JwtResponse":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.form.response.JwtResponse","begin":1,"end":101,"isInterface":false,"annotations":["@Getter","@Setter"],"variables":["String jwtToken","String tokenType","Long userId","String mail","String firstName","String lastName","Set\u003cRole\u003e roles","List\u003cReservation\u003e reservations"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"jwtToken","lineBegin":17,"lineEnd":17},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"tokenType","lineBegin":18,"lineEnd":18},{"annotations":[],"modifier":"private ","identifier":[],"type":"Long","variable":"userId","lineBegin":19,"lineEnd":19},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"mail","lineBegin":20,"lineEnd":20},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"firstName","lineBegin":21,"lineEnd":21},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"lastName","lineBegin":22,"lineEnd":22},{"annotations":[],"modifier":"private ","identifier":["Set","Role"],"type":"Set\u003cRole\u003e","variable":"roles","lineBegin":23,"lineEnd":23},{"annotations":[],"modifier":"private ","identifier":["List","Reservation"],"type":"List\u003cReservation\u003e","variable":"reservations","lineBegin":24,"lineEnd":24}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Role"],"methods":{"getTokenType":{"name":"getTokenType","parametersDataType":[],"returnDataType":["String"]},"setTokenType":{"name":"setTokenType","parametersDataType":["String"],"returnDataType":["void"]},"setReservations":{"name":"setReservations","parametersDataType":["Reservation"],"returnDataType":["void"]},"getJwtToken":{"name":"getJwtToken","parametersDataType":[],"returnDataType":["String"]},"getLastName":{"name":"getLastName","parametersDataType":[],"returnDataType":["String"]},"setJwtToken":{"name":"setJwtToken","parametersDataType":["String"],"returnDataType":["void"]},"getMail":{"name":"getMail","parametersDataType":[],"returnDataType":["String"]},"setLastName":{"name":"setLastName","parametersDataType":["String"],"returnDataType":["void"]},"setMail":{"name":"setMail","parametersDataType":["String"],"returnDataType":["void"]},"setFirstName":{"name":"setFirstName","parametersDataType":["String"],"returnDataType":["void"]},"getReservations":{"name":"getReservations","parametersDataType":[],"returnDataType":["Reservation"]},"getFirstName":{"name":"getFirstName","parametersDataType":[],"returnDataType":["String"]},"setRoles":{"name":"setRoles","parametersDataType":["Role"],"returnDataType":["void"]},"getUserId":{"name":"getUserId","parametersDataType":[],"returnDataType":["Long"]},"setUserId":{"name":"setUserId","parametersDataType":["Long"],"returnDataType":["void"]},"getRoles":{"name":"getRoles","parametersDataType":[],"returnDataType":["Role"]}},"myMethods":{"getTokenType":{"name":"getTokenType","lineBegin":46,"lineEnd":48,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return tokenType;\n}","methodInvocations":[]},"setTokenType":{"name":"setTokenType","lineBegin":50,"lineEnd":52,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"tokenType","qualifedType":""}],"variables":[],"body":"{\n    this.tokenType \u003d tokenType;\n}","methodInvocations":[]},"setReservations":{"name":"setReservations","lineBegin":98,"lineEnd":100,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"List\u003cReservation\u003e","variable":"reservations","qualifedType":""}],"variables":[],"body":"{\n    this.reservations \u003d reservations;\n}","methodInvocations":[]},"getJwtToken":{"name":"getJwtToken","lineBegin":38,"lineEnd":40,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return jwtToken;\n}","methodInvocations":[]},"getLastName":{"name":"getLastName","lineBegin":78,"lineEnd":80,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return lastName;\n}","methodInvocations":[]},"setJwtToken":{"name":"setJwtToken","lineBegin":42,"lineEnd":44,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"jwtToken","qualifedType":""}],"variables":[],"body":"{\n    this.jwtToken \u003d jwtToken;\n}","methodInvocations":[]},"getMail":{"name":"getMail","lineBegin":62,"lineEnd":64,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return mail;\n}","methodInvocations":[]},"setLastName":{"name":"setLastName","lineBegin":82,"lineEnd":84,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"lastName","qualifedType":""}],"variables":[],"body":"{\n    this.lastName \u003d lastName;\n}","methodInvocations":[]},"setMail":{"name":"setMail","lineBegin":66,"lineEnd":68,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"mail","qualifedType":""}],"variables":[],"body":"{\n    this.mail \u003d mail;\n}","methodInvocations":[]},"setFirstName":{"name":"setFirstName","lineBegin":74,"lineEnd":76,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"String","variable":"firstName","qualifedType":""}],"variables":[],"body":"{\n    this.firstName \u003d firstName;\n}","methodInvocations":[]},"getReservations":{"name":"getReservations","lineBegin":94,"lineEnd":96,"annotations":[],"returnDataType":["List\u003cReservation\u003e"],"identifier":["List","Reservation"],"parametersDataType":[],"variables":[],"body":"{\n    return reservations;\n}","methodInvocations":[]},"getFirstName":{"name":"getFirstName","lineBegin":70,"lineEnd":72,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return firstName;\n}","methodInvocations":[]},"setRoles":{"name":"setRoles","lineBegin":90,"lineEnd":92,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Set\u003cRole\u003e","variable":"roles","qualifedType":""}],"variables":[],"body":"{\n    this.roles \u003d roles;\n}","methodInvocations":[]},"getUserId":{"name":"getUserId","lineBegin":54,"lineEnd":56,"annotations":[],"returnDataType":["Long"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return userId;\n}","methodInvocations":[]},"setUserId":{"name":"setUserId","lineBegin":58,"lineEnd":60,"annotations":[],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"Long","variable":"userId","qualifedType":""}],"variables":[],"body":"{\n    this.userId \u003d userId;\n}","methodInvocations":[]},"getRoles":{"name":"getRoles","lineBegin":86,"lineEnd":88,"annotations":[],"returnDataType":["Set\u003cRole\u003e"],"identifier":["Set","Role"],"parametersDataType":[],"variables":[],"body":"{\n    return roles;\n}","methodInvocations":[]}},"methodInvocations":[{"scopeName":"user","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getFirstName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getLastName","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getRoles","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getReservations","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}],"implementedTypes":[],"extendedTypes":[],"imports":["lombok.Getter","lombok.Setter","pl.edu.wat.wcy.pz.restaurantServer.entity.Reservation","pl.edu.wat.wcy.pz.restaurantServer.entity.Role","pl.edu.wat.wcy.pz.restaurantServer.entity.User","java.util.List","java.util.Set"]},"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtAuthTokenFilter":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtAuthTokenFilter","begin":1,"end":57,"isInterface":false,"annotations":["@NoArgsConstructor"],"variables":["Logger LOGGER","JwtProvider jwtProvider","UserDetailsServiceImpl userDetailsService","String jwt","String username","UserDetails userDetails","UsernamePasswordAuthenticationToken authenticationToken","String authorizationHeader"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"Logger","variable":"LOGGER","lineBegin":24,"lineEnd":24},{"annotations":["@Autowired"],"modifier":"private ","identifier":[],"type":"JwtProvider","variable":"jwtProvider","lineBegin":25,"lineEnd":26},{"annotations":["@Autowired"],"modifier":"private ","identifier":[],"type":"UserDetailsServiceImpl","variable":"userDetailsService","lineBegin":27,"lineEnd":28}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider","pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl"],"methods":{"doFilterInternal":{"name":"doFilterInternal","parametersDataType":["HttpServletRequest","HttpServletResponse","FilterChain"],"returnDataType":["void"]},"getJwtFromRequest":{"name":"getJwtFromRequest","parametersDataType":["HttpServletRequest"],"returnDataType":["String"]}},"myMethods":{"doFilterInternal":{"name":"doFilterInternal","lineBegin":30,"lineEnd":47,"annotations":["@Override"],"returnDataType":["void"],"identifier":[],"parametersDataType":[{"type":"HttpServletRequest","variable":"request","qualifedType":""},{"type":"HttpServletResponse","variable":"response","qualifedType":""},{"type":"FilterChain","variable":"filterChain","qualifedType":""}],"variables":[{"type":"String","variable":"jwt","qualifedType":""},{"type":"String","variable":"username","qualifedType":""},{"type":"UserDetails","variable":"userDetails","qualifedType":""},{"type":"UsernamePasswordAuthenticationToken","variable":"authenticationToken","qualifedType":""}],"body":"{\n    try {\n        String jwt \u003d getJwtFromRequest(request);\n        if (jwt !\u003d null \u0026\u0026 jwtProvider.validateJwtToken(jwt)) {\n            String username \u003d jwtProvider.getUsernameFromToken(jwt);\n            UserDetails userDetails \u003d userDetailsService.loadUserByUsername(username);\n            UsernamePasswordAuthenticationToken authenticationToken \u003d new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n            authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n        }\n    } catch (Exception e) {\n        LOGGER.error(\"Error in user authentication\", e);\n    }\n    filterChain.doFilter(request, response);\n}","methodInvocations":[{"scopeName":"jwtProvider","methodName":"validateJwtToken","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider"},{"scopeName":"jwtProvider","methodName":"getUsernameFromToken","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider"},{"scopeName":"userDetailsService","methodName":"loadUserByUsername","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl"},{"scopeName":"userDetails","methodName":"getAuthorities","targetClassName":""},{"scopeName":"authenticationToken","methodName":"setDetails","targetClassName":""}]},"getJwtFromRequest":{"name":"getJwtFromRequest","lineBegin":49,"lineEnd":56,"annotations":[],"returnDataType":["String"],"identifier":[],"parametersDataType":[{"type":"HttpServletRequest","variable":"request","qualifedType":""}],"variables":[{"type":"String","variable":"authorizationHeader","qualifedType":""}],"body":"{\n    String authorizationHeader \u003d request.getHeader(\"Authorization\");\n    if (authorizationHeader !\u003d null \u0026\u0026 authorizationHeader.startsWith(\"Bearer \"))\n        return authorizationHeader.replace(\"Bearer \", \"\");\n    return null;\n}","methodInvocations":[{"scopeName":"authorizationHeader","methodName":"startsWith","targetClassName":""},{"scopeName":"authorizationHeader","methodName":"replace","targetClassName":""}]}},"methodInvocations":[{"scopeName":"jwtProvider","methodName":"validateJwtToken","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider"},{"scopeName":"jwtProvider","methodName":"getUsernameFromToken","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.jwt.JwtProvider"},{"scopeName":"userDetailsService","methodName":"loadUserByUsername","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl"}],"implementedTypes":[],"extendedTypes":["OncePerRequestFilter"],"imports":["lombok.NoArgsConstructor","org.slf4j.Logger","org.slf4j.LoggerFactory","org.springframework.beans.factory.annotation.Autowired","org.springframework.security.authentication.UsernamePasswordAuthenticationToken","org.springframework.security.core.context.SecurityContextHolder","org.springframework.security.core.userdetails.UserDetails","org.springframework.security.web.authentication.WebAuthenticationDetailsSource","org.springframework.web.filter.OncePerRequestFilter","pl.edu.wat.wcy.pz.restaurantServer.security.service.UserDetailsServiceImpl","javax.servlet.FilterChain","javax.servlet.ServletException","javax.servlet.http.HttpServletRequest","javax.servlet.http.HttpServletResponse","java.io.IOException"]},"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple":{"qualifiedName":"pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple","begin":1,"end":91,"isInterface":false,"annotations":["@AllArgsConstructor","@Getter"],"variables":["long serialVersionUID","Long id","String username","String password","Collection\u003c? extends GrantedAuthority\u003e authorities","List\u003cGrantedAuthority\u003e grantedAuthorities","UserPrinciple user"],"instance_variables":[{"annotations":[],"modifier":"private ","identifier":[],"type":"long","variable":"serialVersionUID","lineBegin":19,"lineEnd":19},{"annotations":[],"modifier":"private ","identifier":[],"type":"Long","variable":"id","lineBegin":21,"lineEnd":21},{"annotations":[],"modifier":"private ","identifier":[],"type":"String","variable":"username","lineBegin":22,"lineEnd":22},{"annotations":["@JsonIgnore"],"modifier":"private ","identifier":[],"type":"String","variable":"password","lineBegin":23,"lineEnd":24},{"annotations":[],"modifier":"private ","identifier":["Collection","? extends GrantedAuthority"],"type":"Collection\u003c? extends GrantedAuthority\u003e","variable":"authorities","lineBegin":25,"lineEnd":25}],"dependencies":["pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple","pl.edu.wat.wcy.pz.restaurantServer.security.service.UserPrinciple","pl.edu.wat.wcy.pz.restaurantServer.entity.User"],"methods":{"getPassword":{"name":"getPassword","parametersDataType":[],"returnDataType":["String"]},"build":{"name":"build","parametersDataType":["User"],"returnDataType":["UserPrinciple"]},"isAccountNonExpired":{"name":"isAccountNonExpired","parametersDataType":[],"returnDataType":["boolean"]},"isCredentialsNonExpired":{"name":"isCredentialsNonExpired","parametersDataType":[],"returnDataType":["boolean"]},"isEnabled":{"name":"isEnabled","parametersDataType":[],"returnDataType":["boolean"]},"equals":{"name":"equals","parametersDataType":["Object"],"returnDataType":["boolean"]},"isAccountNonLocked":{"name":"isAccountNonLocked","parametersDataType":[],"returnDataType":["boolean"]},"getAuthorities":{"name":"getAuthorities","parametersDataType":[],"returnDataType":["extends","GrantedAuthority"]},"getUsername":{"name":"getUsername","parametersDataType":[],"returnDataType":["String"]}},"myMethods":{"getPassword":{"name":"getPassword","lineBegin":49,"lineEnd":52,"annotations":["@Override"],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return password;\n}","methodInvocations":[]},"build":{"name":"build","lineBegin":34,"lineEnd":42,"annotations":[],"returnDataType":["UserPrinciple"],"identifier":[],"parametersDataType":[{"type":"User","variable":"user","qualifedType":""}],"variables":[],"body":"{\n    List\u003cGrantedAuthority\u003e grantedAuthorities \u003d user.getRoles().stream().map(role -\u003e new SimpleGrantedAuthority(role.getRoleName())).collect(Collectors.toList());\n    return new UserPrinciple(user.getUserId(), user.getMail(), user.getPassword(), grantedAuthorities);\n}","methodInvocations":[{"scopeName":"user","methodName":"getRoles","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user.getRoles()","methodName":"stream","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user.getRoles().stream()","methodName":"map","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}]},"isAccountNonExpired":{"name":"isAccountNonExpired","lineBegin":59,"lineEnd":62,"annotations":["@Override"],"returnDataType":["boolean"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return true;\n}","methodInvocations":[]},"isCredentialsNonExpired":{"name":"isCredentialsNonExpired","lineBegin":69,"lineEnd":72,"annotations":["@Override"],"returnDataType":["boolean"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return true;\n}","methodInvocations":[]},"isEnabled":{"name":"isEnabled","lineBegin":74,"lineEnd":77,"annotations":["@Override"],"returnDataType":["boolean"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return true;\n}","methodInvocations":[]},"equals":{"name":"equals","lineBegin":79,"lineEnd":90,"annotations":["@Override"],"returnDataType":["boolean"],"identifier":[],"parametersDataType":[{"type":"Object","variable":"o","qualifedType":""}],"variables":[{"type":"UserPrinciple","variable":"user","qualifedType":""}],"body":"{\n    if (this \u003d\u003d o)\n        return true;\n    if (o \u003d\u003d null)\n        return false;\n    if (getClass() !\u003d o.getClass())\n        return false;\n    UserPrinciple user \u003d (UserPrinciple) o;\n    return Objects.equals(id, user.id);\n}","methodInvocations":[]},"isAccountNonLocked":{"name":"isAccountNonLocked","lineBegin":64,"lineEnd":67,"annotations":["@Override"],"returnDataType":["boolean"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return true;\n}","methodInvocations":[]},"getAuthorities":{"name":"getAuthorities","lineBegin":44,"lineEnd":47,"annotations":["@Override"],"returnDataType":["Collection\u003c? extends GrantedAuthority\u003e"],"identifier":["Collection","? extends GrantedAuthority"],"parametersDataType":[],"variables":[],"body":"{\n    return authorities;\n}","methodInvocations":[]},"getUsername":{"name":"getUsername","lineBegin":54,"lineEnd":57,"annotations":["@Override"],"returnDataType":["String"],"identifier":[],"parametersDataType":[],"variables":[],"body":"{\n    return username;\n}","methodInvocations":[]}},"methodInvocations":[{"scopeName":"user","methodName":"getRoles","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user.getRoles()","methodName":"stream","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user.getRoles().stream()","methodName":"map","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getUserId","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getMail","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"},{"scopeName":"user","methodName":"getPassword","targetClassName":"pl.edu.wat.wcy.pz.restaurantServer.entity.User"}],"implementedTypes":["UserDetails"],"extendedTypes":[],"imports":["com.fasterxml.jackson.annotation.JsonIgnore","lombok.AllArgsConstructor","lombok.Getter","org.springframework.security.core.GrantedAuthority","org.springframework.security.core.authority.SimpleGrantedAuthority","org.springframework.security.core.userdetails.UserDetails","pl.edu.wat.wcy.pz.restaurantServer.entity.User","java.util.Collection","java.util.List","java.util.Objects","java.util.stream.Collectors"]}}